<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.29">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="George Roff">
<meta name="dcterms.date" content="2025-03-18">

<title>Publications – marine-ecologist</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-0815c480559380816a4d1ea211a47e91.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-a14e3238c51140e99ccc48519b6ed9ce.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="site_libs/datatables-binding-0.33/datatables.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="site_libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="site_libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="site_libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>
<link href="site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<script src="site_libs/plotly-binding-4.10.4/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>


</head>

<body class="nav-fixed fullcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">marine-ecologist</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./code.html"> <i class="bi bi-code" role="img">
</i> 
<span class="menu-text">Code</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-projects" role="link" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="bi bi-cube" role="img">
</i> 
 <span class="menu-text">Projects</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-projects">    
        <li class="dropdown-header">—Ecological models—</li>
        <li>
    <a class="dropdown-item" href="https://marine-ecologist.github.io/coralseed/"><i class="bi bi-compass" role="img">
</i> 
 <span class="dropdown-text">coralseed - a realtime interactive visualisation of the worlds oceans</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://marine-ecologist.github.io/reefspawn/"><i class="bi bi-moon" role="img">
</i> 
 <span class="dropdown-text">reefspawn - an interactive visualisation of heatwaves on the Great Barrier Reef</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://marine-ecologist.github.io/reefspawn/"><i class="bi bi-thermometer-half" role="img">
</i> 
 <span class="dropdown-text">DHW -</span></a>
  </li>  
        <li class="dropdown-header">—data visualisation—</li>
        <li>
    <a class="dropdown-item" href="https://marine-ecologist.github.io/oceans/"><i class="bi bi-circle" role="img">
</i> 
 <span class="dropdown-text">Oceans - a realtime interactive visualisation of the worlds oceans</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://marine-ecologist.github.io/dhw3/"><i class="bi bi-fire" role="img">
</i> 
 <span class="dropdown-text">dhw3 - an interactive visualisation of heatwaves on the Great Barrier Reef</span></a>
  </li>  
        <li class="dropdown-header">—Marine operations—</li>
        <li>
    <a class="dropdown-item" href="https://marine-ecologist.github.io/dciem/"><i class="bi bi-calculator" role="img">
</i> 
 <span class="dropdown-text">DCIEM - a dev app and package for calculating dive algorithms</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://github.com/marine-ecologist/sensorflow/"><i class="bi bi-object-ungroup" role="img">
</i> 
 <span class="dropdown-text">Sensorflow - development of low-cost tiltmeters</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-publications" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Publications</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-publications">    
        <li>
    <a class="dropdown-item" href="./publication_summary.html"><i class="bi bi-bar-chart" role="img">
</i> 
 <span class="dropdown-text">Publication summary</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./publications.html"><i class="bi bi-stack-overflow" role="img">
</i> 
 <span class="dropdown-text">Publication Record</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="./publications.html"> <i class="bi bi-camera" role="img">
</i> 
<span class="menu-text">Images</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://github.com/marine-ecologist"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text">Github</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Publications</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>George Roff </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">March 18, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">conflicts_prefer</span>(plotly<span class="sc">::</span>layout)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scholar)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(magrittr)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>scholar_id <span class="ot">&lt;-</span> <span class="st">"g_m1R7IAAAAJ"</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>scholar_output <span class="ot">&lt;-</span> scholar<span class="sc">::</span><span class="fu">get_publications</span>(<span class="at">id =</span> scholar_id) <span class="sc">%&gt;%</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">author =</span> <span class="fu">case_when</span>(</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_ends</span>(author, <span class="st">"</span><span class="sc">\\</span><span class="st">.</span><span class="sc">\\</span><span class="st">.</span><span class="sc">\\</span><span class="st">."</span>) <span class="sc">~</span> <span class="fu">get_complete_authors</span>(<span class="at">id =</span> scholar_id, <span class="at">pubid =</span> pubid),</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> author</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a><span class="fu">ungroup</span>()</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>profile <span class="ot">&lt;-</span> scholar<span class="sc">::</span><span class="fu">get_profile</span>(scholar_id)</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>                                </span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>citation_history <span class="ot">&lt;-</span> scholar<span class="sc">::</span><span class="fu">get_citation_history</span>(<span class="at">id =</span> scholar_id)</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>npapers <span class="ot">&lt;-</span> scholar_output<span class="sc">$</span>title <span class="sc">|&gt;</span> <span class="fu">unique</span>() <span class="sc">|&gt;</span> <span class="fu">length</span>()</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>ncites <span class="ot">&lt;-</span> scholar_output<span class="sc">$</span>cites <span class="sc">|&gt;</span> <span class="fu">sum</span>()</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>hindex <span class="ot">&lt;-</span> profile<span class="sc">$</span>h_index</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>i10 <span class="ot">&lt;-</span> profile<span class="sc">$</span>i10_index</span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>affiliation <span class="ot">&lt;-</span> profile<span class="sc">$</span>affiliation</span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(</span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>(</span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">a =</span> <span class="fu">c</span>(<span class="st">"Author"</span>, <span class="st">"Affiliation"</span>, <span class="st">"Total Citations"</span>, <span class="st">"i-10 index"</span>, <span class="st">"h-index"</span>, <span class="st">"Publications to date"</span>),</span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">b =</span> <span class="fu">c</span>(<span class="st">"George Roff"</span>, affiliation, ncites, hindex, i10, npapers)</span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> <span class="fu">t</span>(),</span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>  <span class="at">colnames =</span> <span class="cn">NULL</span>,</span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a>  <span class="at">options =</span> <span class="fu">list</span>(</span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">dom =</span> <span class="st">'t'</span>,  <span class="co"># show only the table body</span></span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">paging =</span> <span class="cn">FALSE</span>,</span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">ordering =</span> <span class="cn">FALSE</span></span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a>  <span class="at">rownames =</span> <span class="cn">FALSE</span></span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatStyle</span>(<span class="at">columns =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>), <span class="at">fontSize =</span> <span class="st">'80%'</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-7bcfb2f52294fb8a2aa0" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-7bcfb2f52294fb8a2aa0">{"x":{"filter":"none","vertical":false,"data":[["Author","George Roff"],["Affiliation","CSIRO Oceans and Atmosphere"],["Total Citations","5398"],["i-10 index","42"],["h-index","76"],["Publications to date","96"]],"container":"<table class=\"display\">\n  <thead>\n    <tr><\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"t","paging":false,"ordering":false,"columnDefs":[{"name":"V1","targets":0},{"name":"V2","targets":1},{"name":"V3","targets":2},{"name":"V4","targets":3},{"name":"V5","targets":4},{"name":"V6","targets":5}],"order":[],"autoWidth":false,"orderClasses":false,"rowCallback":"function(row, data, displayNum, displayIndex, dataIndex) {\nvar value=data[0]; $(this.api().cell(row, 0).node()).css({'font-size':'80%'});\nvar value=data[1]; $(this.api().cell(row, 1).node()).css({'font-size':'80%'});\nvar value=data[2]; $(this.api().cell(row, 2).node()).css({'font-size':'80%'});\nvar value=data[3]; $(this.api().cell(row, 3).node()).css({'font-size':'80%'});\nvar value=data[4]; $(this.api().cell(row, 4).node()).css({'font-size':'80%'});\nvar value=data[5]; $(this.api().cell(row, 5).node()).css({'font-size':'80%'});\nvar value=data[6]; $(this.api().cell(row, 6).node()).css({'font-size':'80%'});\n}"}},"evals":["options.rowCallback"],"jsHooks":[]}</script>
</div>
</div>
<p>All publication data generated dynamically <code>R</code> (<code>scholar</code>, <code>wordcloud</code>) and <code>Plotly</code>:</p>
<section id="summary-statistics" class="level3">
<h3 class="anchored" data-anchor-id="summary-statistics">Summary statistics</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="fu">conflicts_prefer</span>(plotly<span class="sc">::</span>layout)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>pubs_per_year <span class="ot">&lt;-</span> scholar_output <span class="sc">%&gt;%</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">publications =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">'drop'</span>)</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>scholar_output_prepped <span class="ot">&lt;-</span> scholar_output <span class="sc">%&gt;%</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(year), cites) <span class="sc">%&gt;%</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">seq</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(.)),</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">author =</span> <span class="fu">gsub</span>(<span class="st">"(G Roff)"</span>, <span class="st">"&lt;b&gt;</span><span class="sc">\\</span><span class="st">1&lt;/b&gt;"</span>, author, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>),  <span class="co"># Use HTML for bold formatting</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">cites =</span> <span class="fu">as.numeric</span>(cites)  <span class="co"># Ensure cites is numeric</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(n, author, year, title, journal, number, cites) <span class="sc">%&gt;%</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Year"</span> <span class="ot">=</span> <span class="st">"year"</span>,</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Authors"</span> <span class="ot">=</span> <span class="st">"author"</span>,</span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Journal"</span> <span class="ot">=</span> <span class="st">"journal"</span>,</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Issue/Number"</span> <span class="ot">=</span> <span class="st">"number"</span>,</span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Citations"</span> <span class="ot">=</span> <span class="st">"cites"</span></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a><span class="do">###### Plot 1 – Publications per Year</span></span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a>pubs_per_year <span class="ot">&lt;-</span> scholar_output <span class="sc">%&gt;%</span></span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span></span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">publications =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">'drop'</span>)</span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate Spectral palette for publications</span></span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a>num_years <span class="ot">&lt;-</span> <span class="fu">nrow</span>(pubs_per_year)</span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a>colors1 <span class="ot">&lt;-</span> <span class="fu">colorRampPalette</span>(<span class="fu">brewer.pal</span>(<span class="dv">11</span>, <span class="st">"Spectral"</span>))(num_years)</span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a>pubs_plot <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(</span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a>  pubs_per_year,</span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="sc">~</span>year,</span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="sc">~</span>publications,</span>
<span id="cb2-46"><a href="#cb2-46" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">'bar'</span>,</span>
<span id="cb2-47"><a href="#cb2-47" aria-hidden="true" tabindex="-1"></a>  <span class="at">marker =</span> <span class="fu">list</span>(</span>
<span id="cb2-48"><a href="#cb2-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> colors1,</span>
<span id="cb2-49"><a href="#cb2-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'black'</span>, <span class="at">width =</span> <span class="dv">1</span>)  <span class="co"># Add thin black border</span></span>
<span id="cb2-50"><a href="#cb2-50" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb2-51"><a href="#cb2-51" aria-hidden="true" tabindex="-1"></a>  <span class="at">hoverinfo =</span> <span class="st">'text'</span>,</span>
<span id="cb2-52"><a href="#cb2-52" aria-hidden="true" tabindex="-1"></a>  <span class="at">text =</span> <span class="sc">~</span><span class="fu">paste0</span>(<span class="st">"Year: "</span>, year, <span class="st">"&lt;br&gt;Publications: "</span>, publications),</span>
<span id="cb2-53"><a href="#cb2-53" aria-hidden="true" tabindex="-1"></a>  <span class="at">textfont =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">6</span>)</span>
<span id="cb2-54"><a href="#cb2-54" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb2-55"><a href="#cb2-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(</span>
<span id="cb2-56"><a href="#cb2-56" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Publications per Year"</span>,</span>
<span id="cb2-57"><a href="#cb2-57" aria-hidden="true" tabindex="-1"></a>    <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Year"</span>),</span>
<span id="cb2-58"><a href="#cb2-58" aria-hidden="true" tabindex="-1"></a>    <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Number of Publications"</span>),</span>
<span id="cb2-59"><a href="#cb2-59" aria-hidden="true" tabindex="-1"></a>    <span class="at">showlegend =</span> <span class="cn">FALSE</span></span>
<span id="cb2-60"><a href="#cb2-60" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb2-61"><a href="#cb2-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-62"><a href="#cb2-62" aria-hidden="true" tabindex="-1"></a><span class="do">####### Plot 2 – Cumulative Citations per Year</span></span>
<span id="cb2-63"><a href="#cb2-63" aria-hidden="true" tabindex="-1"></a>cumulative_citations <span class="ot">&lt;-</span> citation_history <span class="sc">%&gt;%</span></span>
<span id="cb2-64"><a href="#cb2-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(year) <span class="sc">%&gt;%</span></span>
<span id="cb2-65"><a href="#cb2-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">cumulative_cites =</span> <span class="fu">cumsum</span>(cites))</span>
<span id="cb2-66"><a href="#cb2-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-67"><a href="#cb2-67" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 5: Plot 3 – Citations by Publication Rank</span></span>
<span id="cb2-68"><a href="#cb2-68" aria-hidden="true" tabindex="-1"></a>scholar_output_ranked <span class="ot">&lt;-</span> scholar_output <span class="sc">%&gt;%</span></span>
<span id="cb2-69"><a href="#cb2-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(cites)) <span class="sc">%&gt;%</span></span>
<span id="cb2-70"><a href="#cb2-70" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n =</span> <span class="fu">row_number</span>())</span>
<span id="cb2-71"><a href="#cb2-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-72"><a href="#cb2-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-73"><a href="#cb2-73" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate Spectral palette for publication rank plot</span></span>
<span id="cb2-74"><a href="#cb2-74" aria-hidden="true" tabindex="-1"></a>num_ranked <span class="ot">&lt;-</span> <span class="fu">nrow</span>(scholar_output_ranked)</span>
<span id="cb2-75"><a href="#cb2-75" aria-hidden="true" tabindex="-1"></a>colors_ranked <span class="ot">&lt;-</span> <span class="fu">colorRampPalette</span>(<span class="fu">brewer.pal</span>(<span class="dv">8</span>, <span class="st">"RdYlBu"</span>))(num_ranked)</span>
<span id="cb2-76"><a href="#cb2-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-77"><a href="#cb2-77" aria-hidden="true" tabindex="-1"></a>rank_plot <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(</span>
<span id="cb2-78"><a href="#cb2-78" aria-hidden="true" tabindex="-1"></a>  scholar_output_ranked,</span>
<span id="cb2-79"><a href="#cb2-79" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="sc">~</span>n,</span>
<span id="cb2-80"><a href="#cb2-80" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="sc">~</span>cites,</span>
<span id="cb2-81"><a href="#cb2-81" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">'bar'</span>,</span>
<span id="cb2-82"><a href="#cb2-82" aria-hidden="true" tabindex="-1"></a>  <span class="at">marker =</span> <span class="fu">list</span>(</span>
<span id="cb2-83"><a href="#cb2-83" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> colors_ranked,</span>
<span id="cb2-84"><a href="#cb2-84" aria-hidden="true" tabindex="-1"></a>    <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'black'</span>, <span class="at">width =</span> <span class="dv">1</span>)  <span class="co"># Add thin black border</span></span>
<span id="cb2-85"><a href="#cb2-85" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb2-86"><a href="#cb2-86" aria-hidden="true" tabindex="-1"></a>  <span class="at">hoverinfo =</span> <span class="st">'text'</span>,                        <span class="co"># Only display hover text</span></span>
<span id="cb2-87"><a href="#cb2-87" aria-hidden="true" tabindex="-1"></a>  <span class="at">text =</span> <span class="sc">~</span><span class="fu">paste0</span>(<span class="st">"Title: "</span>, title, <span class="st">"&lt;br&gt;Year: "</span>, year, <span class="st">"&lt;br&gt;Citations: "</span>, cites),</span>
<span id="cb2-88"><a href="#cb2-88" aria-hidden="true" tabindex="-1"></a>  <span class="at">textfont =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">0</span>)                  <span class="co"># No bar labels displayed</span></span>
<span id="cb2-89"><a href="#cb2-89" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb2-90"><a href="#cb2-90" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(</span>
<span id="cb2-91"><a href="#cb2-91" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="cn">NULL</span>,</span>
<span id="cb2-92"><a href="#cb2-92" aria-hidden="true" tabindex="-1"></a>    <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Publication Rank"</span>),</span>
<span id="cb2-93"><a href="#cb2-93" aria-hidden="true" tabindex="-1"></a>    <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Cumulative Citations"</span>),</span>
<span id="cb2-94"><a href="#cb2-94" aria-hidden="true" tabindex="-1"></a>    <span class="at">showlegend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb2-95"><a href="#cb2-95" aria-hidden="true" tabindex="-1"></a>    <span class="at">shapes =</span> <span class="fu">list</span>(</span>
<span id="cb2-96"><a href="#cb2-96" aria-hidden="true" tabindex="-1"></a>      <span class="fu">list</span>(</span>
<span id="cb2-97"><a href="#cb2-97" aria-hidden="true" tabindex="-1"></a>        <span class="at">type =</span> <span class="st">'line'</span>,</span>
<span id="cb2-98"><a href="#cb2-98" aria-hidden="true" tabindex="-1"></a>        <span class="at">x0 =</span> <span class="dv">0</span>,</span>
<span id="cb2-99"><a href="#cb2-99" aria-hidden="true" tabindex="-1"></a>        <span class="at">x1 =</span> <span class="dv">1</span>,</span>
<span id="cb2-100"><a href="#cb2-100" aria-hidden="true" tabindex="-1"></a>        <span class="at">xref =</span> <span class="st">'paper'</span>,</span>
<span id="cb2-101"><a href="#cb2-101" aria-hidden="true" tabindex="-1"></a>        <span class="at">y0 =</span> <span class="dv">10</span>,</span>
<span id="cb2-102"><a href="#cb2-102" aria-hidden="true" tabindex="-1"></a>        <span class="at">y1 =</span> <span class="dv">10</span>,</span>
<span id="cb2-103"><a href="#cb2-103" aria-hidden="true" tabindex="-1"></a>        <span class="at">line =</span> <span class="fu">list</span>(</span>
<span id="cb2-104"><a href="#cb2-104" aria-hidden="true" tabindex="-1"></a>          <span class="at">color =</span> <span class="st">'black'</span>,</span>
<span id="cb2-105"><a href="#cb2-105" aria-hidden="true" tabindex="-1"></a>          <span class="at">width =</span> <span class="dv">2</span>,</span>
<span id="cb2-106"><a href="#cb2-106" aria-hidden="true" tabindex="-1"></a>          <span class="at">dash =</span> <span class="st">'dot'</span></span>
<span id="cb2-107"><a href="#cb2-107" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb2-108"><a href="#cb2-108" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb2-109"><a href="#cb2-109" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb2-110"><a href="#cb2-110" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb2-111"><a href="#cb2-111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-112"><a href="#cb2-112" aria-hidden="true" tabindex="-1"></a><span class="do">###### Plot 3 Cumulative citations</span></span>
<span id="cb2-113"><a href="#cb2-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-114"><a href="#cb2-114" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate Spectral palette for cumulative citations</span></span>
<span id="cb2-115"><a href="#cb2-115" aria-hidden="true" tabindex="-1"></a>num_years2 <span class="ot">&lt;-</span> <span class="fu">nrow</span>(cumulative_citations)</span>
<span id="cb2-116"><a href="#cb2-116" aria-hidden="true" tabindex="-1"></a>colors2 <span class="ot">&lt;-</span> <span class="fu">colorRampPalette</span>((<span class="fu">brewer.pal</span>(<span class="dv">11</span>, <span class="st">"RdBu"</span>)))(num_years2)</span>
<span id="cb2-117"><a href="#cb2-117" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-118"><a href="#cb2-118" aria-hidden="true" tabindex="-1"></a>citations_plot <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(</span>
<span id="cb2-119"><a href="#cb2-119" aria-hidden="true" tabindex="-1"></a>  cumulative_citations,</span>
<span id="cb2-120"><a href="#cb2-120" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="sc">~</span>year,</span>
<span id="cb2-121"><a href="#cb2-121" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="sc">~</span>cumulative_cites,</span>
<span id="cb2-122"><a href="#cb2-122" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">'scatter'</span>,</span>
<span id="cb2-123"><a href="#cb2-123" aria-hidden="true" tabindex="-1"></a>  <span class="at">mode =</span> <span class="st">'lines+markers'</span>,</span>
<span id="cb2-124"><a href="#cb2-124" aria-hidden="true" tabindex="-1"></a>  <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'black'</span>, <span class="at">width =</span> <span class="dv">1</span>),  <span class="co"># Narrow black line</span></span>
<span id="cb2-125"><a href="#cb2-125" aria-hidden="true" tabindex="-1"></a>   <span class="at">marker =</span> <span class="fu">list</span>(</span>
<span id="cb2-126"><a href="#cb2-126" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> colors2,</span>
<span id="cb2-127"><a href="#cb2-127" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">9</span>,       </span>
<span id="cb2-128"><a href="#cb2-128" aria-hidden="true" tabindex="-1"></a>    <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'black'</span>, <span class="at">width =</span> <span class="dv">1</span>)  <span class="co"># Add thin black border</span></span>
<span id="cb2-129"><a href="#cb2-129" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb2-130"><a href="#cb2-130" aria-hidden="true" tabindex="-1"></a>  <span class="at">hoverinfo =</span> <span class="st">'text'</span>,</span>
<span id="cb2-131"><a href="#cb2-131" aria-hidden="true" tabindex="-1"></a>  <span class="at">text =</span> <span class="sc">~</span><span class="fu">paste0</span>(<span class="st">"Year: "</span>, year, <span class="st">"&lt;br&gt;Cumulative Citations: "</span>, cumulative_cites)</span>
<span id="cb2-132"><a href="#cb2-132" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb2-133"><a href="#cb2-133" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(</span>
<span id="cb2-134"><a href="#cb2-134" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">""</span>,</span>
<span id="cb2-135"><a href="#cb2-135" aria-hidden="true" tabindex="-1"></a>    <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Year"</span>),</span>
<span id="cb2-136"><a href="#cb2-136" aria-hidden="true" tabindex="-1"></a>    <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Cumulative Citations"</span>),</span>
<span id="cb2-137"><a href="#cb2-137" aria-hidden="true" tabindex="-1"></a>    <span class="at">showlegend =</span> <span class="cn">FALSE</span></span>
<span id="cb2-138"><a href="#cb2-138" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb2-139"><a href="#cb2-139" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb2-140"><a href="#cb2-140" aria-hidden="true" tabindex="-1"></a><span class="co"># # Step 6: Display all three plots in a multi-panel layout</span></span>
<span id="cb2-141"><a href="#cb2-141" aria-hidden="true" tabindex="-1"></a><span class="co"># subplot(</span></span>
<span id="cb2-142"><a href="#cb2-142" aria-hidden="true" tabindex="-1"></a><span class="co">#   pubs_plot, rank_plot, citations_plot,</span></span>
<span id="cb2-143"><a href="#cb2-143" aria-hidden="true" tabindex="-1"></a><span class="co">#   nrows = 1,</span></span>
<span id="cb2-144"><a href="#cb2-144" aria-hidden="true" tabindex="-1"></a><span class="co">#   titleX = TRUE,</span></span>
<span id="cb2-145"><a href="#cb2-145" aria-hidden="true" tabindex="-1"></a><span class="co">#   titleY = TRUE,</span></span>
<span id="cb2-146"><a href="#cb2-146" aria-hidden="true" tabindex="-1"></a><span class="co">#   widths = c(0.3, 0.3, 0.3),  # Adjust plot widths if necessary</span></span>
<span id="cb2-147"><a href="#cb2-147" aria-hidden="true" tabindex="-1"></a><span class="co">#   margin = 0.04               # Set spacing between each plot</span></span>
<span id="cb2-148"><a href="#cb2-148" aria-hidden="true" tabindex="-1"></a><span class="co"># ) %&gt;%</span></span>
<span id="cb2-149"><a href="#cb2-149" aria-hidden="true" tabindex="-1"></a><span class="co"># layout(</span></span>
<span id="cb2-150"><a href="#cb2-150" aria-hidden="true" tabindex="-1"></a><span class="co">#   xaxis = list(title = "Year / Rank", domain = c(0, 0.3), titlefont = list(size = 9), tickfont = list(size = 9)),</span></span>
<span id="cb2-151"><a href="#cb2-151" aria-hidden="true" tabindex="-1"></a><span class="co">#   xaxis2 = list(title = "Rank", domain = c(0.35, 0.65), titlefont = list(size = 9), tickfont = list(size = 9)),</span></span>
<span id="cb2-152"><a href="#cb2-152" aria-hidden="true" tabindex="-1"></a><span class="co">#   xaxis3 = list(title = "Citations", domain = c(0.7, 1), titlefont = list(size = 9), tickfont = list(size = 9)),</span></span>
<span id="cb2-153"><a href="#cb2-153" aria-hidden="true" tabindex="-1"></a><span class="co">#   yaxis = list(titlefont = list(size = 9), tickfont = list(size = 9)),</span></span>
<span id="cb2-154"><a href="#cb2-154" aria-hidden="true" tabindex="-1"></a><span class="co">#   yaxis2 = list(titlefont = list(size = 9), tickfont = list(size = 9)),</span></span>
<span id="cb2-155"><a href="#cb2-155" aria-hidden="true" tabindex="-1"></a><span class="co">#   yaxis3 = list(titlefont = list(size = 9), tickfont = list(size = 9)),</span></span>
<span id="cb2-156"><a href="#cb2-156" aria-hidden="true" tabindex="-1"></a><span class="co">#   #uniformtext = list(minsize = 6, mode = 'show'),</span></span>
<span id="cb2-157"><a href="#cb2-157" aria-hidden="true" tabindex="-1"></a><span class="co">#   margin = list(l = 50, r = 50, t = 50, b = 50, pad = 5)</span></span>
<span id="cb2-158"><a href="#cb2-158" aria-hidden="true" tabindex="-1"></a><span class="co"># )</span></span>
<span id="cb2-159"><a href="#cb2-159" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-160"><a href="#cb2-160" aria-hidden="true" tabindex="-1"></a><span class="fu">subplot</span>(</span>
<span id="cb2-161"><a href="#cb2-161" aria-hidden="true" tabindex="-1"></a>  pubs_plot, citations_plot, rank_plot,</span>
<span id="cb2-162"><a href="#cb2-162" aria-hidden="true" tabindex="-1"></a>  <span class="at">nrows =</span> <span class="dv">3</span>,</span>
<span id="cb2-163"><a href="#cb2-163" aria-hidden="true" tabindex="-1"></a>  <span class="at">titleX =</span> <span class="cn">TRUE</span>,</span>
<span id="cb2-164"><a href="#cb2-164" aria-hidden="true" tabindex="-1"></a>  <span class="at">titleY =</span> <span class="cn">TRUE</span>,</span>
<span id="cb2-165"><a href="#cb2-165" aria-hidden="true" tabindex="-1"></a>  <span class="at">margin =</span> <span class="fl">0.04</span></span>
<span id="cb2-166"><a href="#cb2-166" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb2-167"><a href="#cb2-167" aria-hidden="true" tabindex="-1"></a><span class="fu">layout</span>(</span>
<span id="cb2-168"><a href="#cb2-168" aria-hidden="true" tabindex="-1"></a>  <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Year / Rank"</span>, <span class="at">titlefont =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">9</span>), <span class="at">tickfont =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">9</span>)),</span>
<span id="cb2-169"><a href="#cb2-169" aria-hidden="true" tabindex="-1"></a>  <span class="at">xaxis2 =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Rank"</span>, <span class="at">titlefont =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">9</span>), <span class="at">tickfont =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">9</span>)),</span>
<span id="cb2-170"><a href="#cb2-170" aria-hidden="true" tabindex="-1"></a>  <span class="at">xaxis3 =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Citations"</span>, <span class="at">titlefont =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">9</span>), <span class="at">tickfont =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">9</span>)),</span>
<span id="cb2-171"><a href="#cb2-171" aria-hidden="true" tabindex="-1"></a>  <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">titlefont =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">9</span>), <span class="at">tickfont =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">9</span>)),</span>
<span id="cb2-172"><a href="#cb2-172" aria-hidden="true" tabindex="-1"></a>  <span class="at">yaxis2 =</span> <span class="fu">list</span>(<span class="at">titlefont =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">9</span>), <span class="at">tickfont =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">9</span>)),</span>
<span id="cb2-173"><a href="#cb2-173" aria-hidden="true" tabindex="-1"></a>  <span class="at">yaxis3 =</span> <span class="fu">list</span>(<span class="at">titlefont =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">9</span>), <span class="at">tickfont =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">9</span>)),</span>
<span id="cb2-174"><a href="#cb2-174" aria-hidden="true" tabindex="-1"></a>  <span class="at">margin =</span> <span class="fu">list</span>(<span class="at">l =</span> <span class="dv">50</span>, <span class="at">r =</span> <span class="dv">50</span>, <span class="at">t =</span> <span class="dv">50</span>, <span class="at">b =</span> <span class="dv">50</span>, <span class="at">pad =</span> <span class="dv">5</span>)</span>
<span id="cb2-175"><a href="#cb2-175" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-601c00966485bd9e973d" style="width:100%;height:1300px;"></div>
<script type="application/json" data-for="htmlwidget-601c00966485bd9e973d">{"x":{"data":[{"x":[2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025],"y":[2,1,6,3,2,2,4,5,6,8,7,5,4,10,9,6,11,1,1,4],"marker":{"color":["#9E0142","#B91F48","#D53E4F","#E45549","#F46D43","#F88D51","#FDAE61","#FDC775","#FEE08B","#FEEFA4","#FFFFBF","#F2FAAB","#E6F598","#C8E99E","#ABDDA4","#88CFA4","#66C2A5","#4BA4B1","#3288BD","#486BAF","#5E4FA2"],"line":{"color":"black","width":1}},"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["Year: 2006<br>Publications: 2","Year: 2007<br>Publications: 1","Year: 2008<br>Publications: 6","Year: 2009<br>Publications: 3","Year: 2010<br>Publications: 2","Year: 2011<br>Publications: 2","Year: 2012<br>Publications: 4","Year: 2013<br>Publications: 5","Year: 2014<br>Publications: 6","Year: 2015<br>Publications: 8","Year: 2016<br>Publications: 7","Year: 2017<br>Publications: 5","Year: 2018<br>Publications: 4","Year: 2019<br>Publications: 10","Year: 2020<br>Publications: 9","Year: 2021<br>Publications: 6","Year: 2022<br>Publications: 11","Year: 2023<br>Publications: 1","Year: 2024<br>Publications: 1","Year: 2025<br>Publications: 4"],"textfont":{"size":6},"type":"bar","error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025],"y":[23,64,122,193,262,401,575,804,1091,1407,1757,2191,2751,3293,3861,4444,5065,5343],"mode":"lines+markers","line":{"color":"black","width":1},"marker":{"color":["#67001F","#930E26","#B82430","#CD4F44","#E0785F","#F2A07E","#F8C1A6","#FCDECC","#F8EEE8","#EBF1F4","#D5E7F0","#B3D5E7","#8DC2DC","#5EA4CC","#3B88BD","#276DB0","#154F8D","#053061"],"size":9,"line":{"color":"black","width":1}},"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["Year: 2008<br>Cumulative Citations: 23","Year: 2009<br>Cumulative Citations: 64","Year: 2010<br>Cumulative Citations: 122","Year: 2011<br>Cumulative Citations: 193","Year: 2012<br>Cumulative Citations: 262","Year: 2013<br>Cumulative Citations: 401","Year: 2014<br>Cumulative Citations: 575","Year: 2015<br>Cumulative Citations: 804","Year: 2016<br>Cumulative Citations: 1091","Year: 2017<br>Cumulative Citations: 1407","Year: 2018<br>Cumulative Citations: 1757","Year: 2019<br>Cumulative Citations: 2191","Year: 2020<br>Cumulative Citations: 2751","Year: 2021<br>Cumulative Citations: 3293","Year: 2022<br>Cumulative Citations: 3861","Year: 2023<br>Cumulative Citations: 4444","Year: 2024<br>Cumulative Citations: 5065","Year: 2025<br>Cumulative Citations: 5343"],"type":"scatter","error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x2","yaxis":"y2","frame":null},{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98],"y":[501,414,378,228,193,172,167,160,151,119,118,112,110,101,95,80,72,72,71,68,67,67,65,65,64,62,60,58,58,57,55,54,54,52,51,45,44,43,43,43,42,42,41,37,35,35,33,30,29,29,27,27,27,25,24,24,23,23,22,21,21,20,20,19,17,17,17,17,17,14,13,13,11,10,10,10,9,9,8,7,7,5,4,4,3,3,3,2,1,1,1,0,0,0,0,0,0,0],"marker":{"color":["#D73027","#D93429","#DB382B","#DD3D2D","#DF412F","#E14631","#E34A33","#E54E35","#E75337","#E95739","#EB5C3B","#EE603D","#F0643F","#F26941","#F46D43","#F47245","#F57747","#F67B49","#F6804B","#F7854E","#F78950","#F88E52","#F99354","#F99756","#FA9C58","#FBA15B","#FBA55D","#FCAA5F","#FDAF61","#FDB265","#FDB668","#FDB96C","#FDBD6F","#FDC172","#FDC476","#FDC879","#FDCB7D","#FDCF80","#FDD383","#FDD687","#FDDA8A","#FDDD8E","#FDE093","#FAE19A","#F8E3A2","#F6E4A9","#F4E6B1","#F2E7B8","#F0E8C0","#EDEAC7","#EBEBCF","#E9ECD6","#E7EEDE","#E5EFE5","#E3F1ED","#E0F2F4","#DDF1F7","#D9F0F6","#D6EEF5","#D2ECF4","#CEEAF3","#CAE8F1","#C6E6F0","#C3E4EF","#BFE2EE","#BBE1ED","#B7DFEC","#B3DDEB","#AFDBEA","#ACD9E9","#A8D6E7","#A4D3E6","#A0D0E4","#9CCDE2","#98CAE0","#94C6DF","#90C3DD","#8CC0DB","#88BDD9","#84BAD8","#80B6D6","#7CB3D4","#78B0D2","#74ADD1","#71A9CF","#6DA5CD","#6AA1CB","#669DC8","#6399C6","#6095C4","#5C91C2","#598DC0","#5589BE","#5285BC","#4F81BA","#4B7DB8","#4879B6","#4575B4"],"line":{"color":"black","width":1}},"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["Title: Global disparity in the resilience of coral reefs<br>Year: 2012<br>Citations: 501","Title: Doom and boom on a resilient reef: climate change, algal overgrowth and coral recovery<br>Year: 2009<br>Citations: 414","Title: The ecological role of sharks on coral reefs<br>Year: 2016<br>Citations: 378","Title: Characterizing the ecological trade‐offs throughout the early ontogeny of coral recruitment<br>Year: 2016<br>Citations: 228","Title: Decline of coastal apex shark populations over the past half century<br>Year: 2018<br>Citations: 193","Title: Regulation of bacterial communities through antimicrobial activity by the coral holobiont<br>Year: 2012<br>Citations: 172","Title: Palaeoecological evidence of a historical collapse of corals at Pelorus Island, inshore Great Barrier Reef, following European settlement<br>Year: 2013<br>Citations: 167","Title: Anticipative management for coral reef ecosystem services in the 21st century<br>Year: 2015<br>Citations: 160","Title: Linking demographic processes of juvenile corals to benthic recovery trajectories in two common reef habitats<br>Year: 2015<br>Citations: 151","Title: Bacteria are not the primary cause of bleaching in the Mediterranean coral Oculina patagonica<br>Year: 2008<br>Citations: 119","Title: Testing the precision and accuracy of the U–Th chronometer for dating coral mortality events in the last 100 years<br>Year: 2014<br>Citations: 118","Title: Linkages between coral assemblages and coral proxies of terrestrial exposure along a cross-shelf gradient on the southern Great Barrier Reef<br>Year: 2008<br>Citations: 112","Title: Emergent research and priorities for shark and ray conservation<br>Year: 2022<br>Citations: 110","Title: Discerning the timing and cause of historical mortality events in modern Porites from the Great Barrier Reef<br>Year: 2014<br>Citations: 101","Title: The shape of success in a turbulent world<br>Year: 2017<br>Citations: 95","Title: Sensitivity of coral recruitment to subtle shifts in early community succession<br>Year: 2017<br>Citations: 80","Title: Reef-scale failure of coral settlement following typhoon disturbance and macroalgal bloom in Palau, Western Pacific<br>Year: 2014<br>Citations: 72","Title: Increased Prevalence of Ubiquitous Ascomycetes in an Acropoid Coral (Acropora formosa) Exhibiting Symptoms of Brown Band Syndrome and Skeletal Eroding …<br>Year: 2007<br>Citations: 72","Title: Phase shift facilitation following cyclone disturbance on coral reefs<br>Year: 2015<br>Citations: 71","Title: Porites and the Phoenix effect: unprecedented recovery after a mass coral bleaching event at Rangiroa Atoll, French Polynesia<br>Year: 2014<br>Citations: 68","Title: Exposure-driven macroalgal phase shift following catastrophic disturbance on coral reefs<br>Year: 2015<br>Citations: 67","Title: Intra-colonial response to Acroporid “white syndrome” lesions in tabular Acropora spp. (Scleractinia)<br>Year: 2006<br>Citations: 67","Title: Successive marine heatwaves cause disproportionate coral bleaching during a fast phase transition from El Niño to La Niña<br>Year: 2020<br>Citations: 65","Title: The ecology of ‘Acroporid white syndrome', a coral disease from the southern Great Barrier Reef<br>Year: 2011<br>Citations: 65","Title: Resilience of branching and massive corals to wave loading under sea level rise–A coupled computational fluid dynamics-structural analysis<br>Year: 2014<br>Citations: 64","Title: Seascapes as drivers of herbivore assemblages in coral reef ecosystems<br>Year: 2019<br>Citations: 62","Title: Sedimentation and overfishing drive changes in early succession and coral recruitment<br>Year: 2020<br>Citations: 60","Title: Hierarchical spatial patterns in Caribbean reef benthic assemblages<br>Year: 2015<br>Citations: 58","Title: High-precision U-series ages of transported coral blocks on Heron Reef (southern Great Barrier Reef) and storm activity during the past century<br>Year: 2012<br>Citations: 58","Title: U-Th dating reveals regional-scale decline of branching Acropora corals on the Great Barrier Reef over the past century<br>Year: 2017<br>Citations: 57","Title: Keep up or drown: adjustment of western Pacific coral reefs to sea-level rise in the 21st century<br>Year: 2015<br>Citations: 55","Title: The importance of 1.5 C warming for the Great Barrier Reef<br>Year: 2022<br>Citations: 54","Title: Phototrophic microendoliths bloom during coral “white syndrome”<br>Year: 2006<br>Citations: 54","Title: Coral symbioses under prolonged environmental change: living near tolerance range limits<br>Year: 2016<br>Citations: 52","Title: Priority species to support the functional integrity of coral reefs<br>Year: 2020<br>Citations: 51","Title: Coral‐derived western pacific tropical sea surface temperatures during the last millennium<br>Year: 2018<br>Citations: 45","Title: Transient grazing and the dynamics of an unanticipated coral–algal phase shift<br>Year: 2019<br>Citations: 44","Title: Marine reserves, fisheries ban, and 20 years of positive change in a coral reef ecosystem<br>Year: 2021<br>Citations: 43","Title: Revisiting the paradigm of shark‐driven trophic cascades in coral reef ecosystems<br>Year: 2021<br>Citations: 43","Title: Decadal‐scale rates of reef erosion following El Niño‐related mass coral mortality<br>Year: 2015<br>Citations: 43","Title: Age structure of massive Porites lutea corals at Luhuitou fringing reef (northern South China Sea) indicates recovery following severe anthropogenic disturbance<br>Year: 2014<br>Citations: 42","Title: Spatial patterns of parrotfish corallivory in the Caribbean: the importance of coral taxa, density and size<br>Year: 2011<br>Citations: 42","Title: Spatial and temporal patterns of eastern Australia subtropical coral communities<br>Year: 2013<br>Citations: 41","Title: Evolutionary history drives biogeographic patterns of coral reef resilience<br>Year: 2021<br>Citations: 37","Title: Predicting responses of geo-ecological carbonate reef systems to climate change: a conceptual model and review<br>Year: 2021<br>Citations: 35","Title: Rapid accretion of inshore reef slopes from the central Great Barrier Reef during the late Holocene<br>Year: 2015<br>Citations: 35","Title: Coral disease physiology: the impact of Acroporid white syndrome on Symbiodinium<br>Year: 2008<br>Citations: 33","Title: Reef accretion and coral growth rates are decoupled in Holocene reef frameworks<br>Year: 2020<br>Citations: 30","Title: Broadening the taxonomic scope of coral reef palaeoecological studies using ancient DNA<br>Year: 2019<br>Citations: 29","Title: Episodic reef growth in the Northern South China Sea linked to warm climate during the past 7,000 years: Potential for future coral refugia<br>Year: 2019<br>Citations: 29","Title: Growth responses of branching versus massive corals to ocean warming on the Great Barrier Reef, Australia<br>Year: 2020<br>Citations: 27","Title: Evidence of cyanobacteria-like endosymbionts in Acroporid corals from the Great Barrier Reef<br>Year: 2009<br>Citations: 27","Title: SPATIAL HETEROGENEITY OF PHOTOSYNTHETIC ACTIVITY WITHIN DISEASED CORALS FROM THE GREAT BARRIER REEF1<br>Year: 2008<br>Citations: 27","Title: Macroalgal associations of motile epifaunal invertebrate communities on coral reefs<br>Year: 2013<br>Citations: 25","Title: Climate refugia on the Great Barrier Reef fail when global warming exceeds 3 C<br>Year: 2022<br>Citations: 24","Title: Measuring reef complexity and rugosity from monocular video bathymetric reconstruction<br>Year: 2012<br>Citations: 24","Title: Functional and phylogenetic responses of motile cryptofauna to habitat degradation<br>Year: 2022<br>Citations: 23","Title: Patch size drives settlement success and spatial distribution of coral larvae under space limitation<br>Year: 2020<br>Citations: 23","Title: Corals on the move: morphological and reproductive strategies of reef flat coralliths<br>Year: 2008<br>Citations: 22","Title: On the relationship between native grouper and invasive lionfish in the Caribbean<br>Year: 2013<br>Citations: 21","Title: Millennium-scale records of benthic foraminiferal communities from the central Great Barrier Reef reveal spatial differences and temporal consistency<br>Year: 2013<br>Citations: 21","Title: Advances in our understanding of the ecological importance of sharks and their relatives<br>Year: 2022<br>Citations: 20","Title: Re-evaluating mid-Holocene reef “turn-off” on the inshore Southern Great Barrier Reef<br>Year: 2020<br>Citations: 20","Title: Mesenterial filaments make a clean sweep of substrates for coral growth<br>Year: 2009<br>Citations: 19","Title: Life-history traits inform population trends when assessing the conservation status of a declining tiger shark population<br>Year: 2019<br>Citations: 17","Title: Multi-decadal changes in structural complexity following mass coral mortality on a Caribbean reef<br>Year: 2019<br>Citations: 17","Title: Recolonization of marginal coral reef flats in response to recent sea‐level rise<br>Year: 2018<br>Citations: 17","Title: Mass spawning aggregation of the giant bumphead parrotfish Bolbometopon muricatum<br>Year: 2017<br>Citations: 17","Title: Reassessing Shark-Driven Trophic Cascades on Coral Reefs: A Reply to Ruppert et al.<br>Year: 2016<br>Citations: 17","Title: Cryptic coral recruits as dormant “seed banks”<br>Year: 2022<br>Citations: 14","Title: AU‐Th dating approach to understanding past coral reef dynamics and geomorphological constraints on future reef growth potential; Mazie Bay, southern great barrier reef<br>Year: 2020<br>Citations: 13","Title: Tropical sand cays as natural paleocyclone archives<br>Year: 2019<br>Citations: 13","Title: Variable response of Red Sea coral communities to recent disturbance events along a latitudinal gradient<br>Year: 2021<br>Citations: 11","Title: Global predictions of coral reef dissolution in the Anthropocene<br>Year: 2022<br>Citations: 10","Title: Reef accumulation is decoupled from recent degradation in the central and southern Red Sea<br>Year: 2022<br>Citations: 10","Title: Use of skeletal Sr/Ca ratios to determine growth patterns in a branching coral Isopora palifera<br>Year: 2017<br>Citations: 10","Title: Long-term growth trends of massive Porites corals across a latitudinal gradient in the Indo-Pacific<br>Year: 2019<br>Citations: 9","Title: Historical ecology of coral communities from the inshore Great Barrier Reef<br>Year: 2010<br>Citations: 9","Title: Cryptic diversity in the macroalgal genus Lobophora (Dictyotales) reveals environmental drivers of algal assemblages<br>Year: 2020<br>Citations: 8","Title: Coloring coral larvae allows tracking of local dispersal and settlement<br>Year: 2022<br>Citations: 7","Title: U-Th age distribution of coral fragments from multiple rubble ridges within the Frankland Islands, Great Barrier Reef: Implications for past storminess history<br>Year: 2016<br>Citations: 7","Title: Earliest record of a coral disease from the Indo-Pacific?<br>Year: 2016<br>Citations: 5","Title: Unraveling Moreton Bay reef history: An urban high-latitude setting for coral development<br>Year: 2022<br>Citations: 4","Title: Multi-decadal changes in structural complexity following mass coral mortality on a Caribbean reef<br>Year: 2019<br>Citations: 4","Title: Going with the flow: Leveraging reef‐scale hydrodynamics for upscaling larval‐based restoration<br>Year: 2025<br>Citations: 3","Title: Status report on Ngederrak and lighthouse reefs<br>Year: 2019<br>Citations: 3","Title: On the influence of simulated SST warming on rainfall projections in the Indo-Pacific domain: an AGCM study<br>Year: 2018<br>Citations: 3","Title: Climate change impacts on mesophotic regions of the Great Barrier Reef<br>Year: 2024<br>Citations: 2","Title: Reconstructing past disturbance in coral communities using U-Th dating of dead coral skeletons<br>Year: 2023<br>Citations: 1","Title: Colouring coral larvae for tracking dispersal<br>Year: 2022<br>Citations: 1","Title: Integrative carbonate budget model of the Great Barrier Reef<br>Year: 2021<br>Citations: 1","Title: The influence of larval retention on coral recruitment<br>Year: 2025<br>Citations: 0","Title: Taxonomic novelty emerges more frequently and independently of functional novelty in historical coral communities<br>Year: 2025<br>Citations: 0","Title: Larval seedboxes: a modular and effective tool for scaling coral reef restoration<br>Year: 2025<br>Citations: 0","Title: The Reef: A Passionate History<br>Year: 2016<br>Citations: 0","Title: Improving the accuracy and precision of TIMS U-series ages of modern corals from the Great Barrier Reef, Australia<br>Year: 2010<br>Citations: 0","Title: Dating and mapping historical changes in Great Barrier Reef coral communities<br>Year: 2008<br>Citations: 0","Title: The importance of 1.5 C warming for the Great Barrier Reef<br>Year: NA<br>Citations: 0"],"textfont":{"size":0},"type":"bar","error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x3","yaxis":"y3","frame":null}],"layout":{"xaxis":{"domain":[0,1],"automargin":true,"title":"Year / Rank","anchor":"y","titlefont":{"size":9},"tickfont":{"size":9}},"xaxis2":{"domain":[0,1],"automargin":true,"title":"Rank","anchor":"y2","titlefont":{"size":9},"tickfont":{"size":9}},"xaxis3":{"domain":[0,1],"automargin":true,"title":"Citations","anchor":"y3","titlefont":{"size":9},"tickfont":{"size":9}},"yaxis3":{"domain":[0,0.29333333333333339],"automargin":true,"title":"Cumulative Citations","anchor":"x3","titlefont":{"size":9},"tickfont":{"size":9}},"yaxis2":{"domain":[0.37333333333333335,0.62666666666666671],"automargin":true,"title":"Cumulative Citations","anchor":"x2","titlefont":{"size":9},"tickfont":{"size":9}},"yaxis":{"domain":[0.70666666666666678,1],"automargin":true,"title":"Number of Publications","anchor":"x","titlefont":{"size":9},"tickfont":{"size":9}},"annotations":[],"shapes":[{"type":"line","x0":0,"x1":1,"xref":"paper","y0":10,"y1":10,"line":{"color":"black","width":2,"dash":"dot"},"yref":"y3"}],"images":[],"margin":{"b":50,"l":50,"t":50,"r":50,"pad":5},"title":"","showlegend":false,"hovermode":"closest"},"attrs":{"15d1e48e08f6":{"x":{},"y":{},"marker":{"color":["#9E0142","#B91F48","#D53E4F","#E45549","#F46D43","#F88D51","#FDAE61","#FDC775","#FEE08B","#FEEFA4","#FFFFBF","#F2FAAB","#E6F598","#C8E99E","#ABDDA4","#88CFA4","#66C2A5","#4BA4B1","#3288BD","#486BAF","#5E4FA2"],"line":{"color":"black","width":1}},"hoverinfo":"text","text":{},"textfont":{"size":6},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"},"15d1e55fb8c44":{"x":{},"y":{},"mode":"lines+markers","line":{"color":"black","width":1},"marker":{"color":["#67001F","#930E26","#B82430","#CD4F44","#E0785F","#F2A07E","#F8C1A6","#FCDECC","#F8EEE8","#EBF1F4","#D5E7F0","#B3D5E7","#8DC2DC","#5EA4CC","#3B88BD","#276DB0","#154F8D","#053061"],"size":9,"line":{"color":"black","width":1}},"hoverinfo":"text","text":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"15d1e8ee50d0":{"x":{},"y":{},"marker":{"color":["#D73027","#D93429","#DB382B","#DD3D2D","#DF412F","#E14631","#E34A33","#E54E35","#E75337","#E95739","#EB5C3B","#EE603D","#F0643F","#F26941","#F46D43","#F47245","#F57747","#F67B49","#F6804B","#F7854E","#F78950","#F88E52","#F99354","#F99756","#FA9C58","#FBA15B","#FBA55D","#FCAA5F","#FDAF61","#FDB265","#FDB668","#FDB96C","#FDBD6F","#FDC172","#FDC476","#FDC879","#FDCB7D","#FDCF80","#FDD383","#FDD687","#FDDA8A","#FDDD8E","#FDE093","#FAE19A","#F8E3A2","#F6E4A9","#F4E6B1","#F2E7B8","#F0E8C0","#EDEAC7","#EBEBCF","#E9ECD6","#E7EEDE","#E5EFE5","#E3F1ED","#E0F2F4","#DDF1F7","#D9F0F6","#D6EEF5","#D2ECF4","#CEEAF3","#CAE8F1","#C6E6F0","#C3E4EF","#BFE2EE","#BBE1ED","#B7DFEC","#B3DDEB","#AFDBEA","#ACD9E9","#A8D6E7","#A4D3E6","#A0D0E4","#9CCDE2","#98CAE0","#94C6DF","#90C3DD","#8CC0DB","#88BDD9","#84BAD8","#80B6D6","#7CB3D4","#78B0D2","#74ADD1","#71A9CF","#6DA5CD","#6AA1CB","#669DC8","#6399C6","#6095C4","#5C91C2","#598DC0","#5589BE","#5285BC","#4F81BA","#4B7DB8","#4879B6","#4575B4"],"line":{"color":"black","width":1}},"hoverinfo":"text","text":{},"textfont":{"size":0},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"subplot":true,"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="publication-journals" class="level3">
<h3 class="anchored" data-anchor-id="publication-journals">Publication journals</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(wordcloud)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(grid)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(cowplot)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gridGraphics)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(png)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gtable)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Define keyword lookup</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>subject_keywords <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">Ecology =</span> <span class="fu">c</span>(<span class="st">"ecology"</span>, <span class="st">"oikos"</span>, <span class="st">"oecologia"</span>, <span class="st">"ecological"</span>, <span class="st">"Ecosystems"</span>),</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">MarineBiology =</span> <span class="fu">c</span>(<span class="st">"coral reefs"</span>, <span class="st">"marine biology"</span>, <span class="st">"PLoS ONE"</span>, <span class="st">"proceedings"</span>, <span class="st">"Scientific"</span>, <span class="st">"Fish"</span>, <span class="st">"total"</span>, <span class="st">"Oceanography"</span>, <span class="st">"sharks"</span>),</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">Geology =</span> <span class="fu">c</span>(<span class="st">"palaeo"</span>,  <span class="st">"geology"</span>, <span class="st">"earth"</span>, <span class="st">"Quaternary"</span>, <span class="st">"Paleoceanography"</span>),</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">Microbiology =</span> <span class="fu">c</span>(<span class="st">"microbiology"</span>, <span class="st">"Molecular"</span>, <span class="st">"isme"</span>),</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">Climate =</span> <span class="fu">c</span>(<span class="st">"National"</span>, <span class="st">"Open"</span>, <span class="st">"Climate"</span>, <span class="st">"bioRxiv"</span>),</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">Geochemistry =</span> <span class="fu">c</span>(<span class="st">"geochem"</span>, <span class="st">"Geophysical"</span>, <span class="st">"Geochronology"</span>, <span class="st">"Geochimica"</span>, <span class="st">"Biogeosciences"</span>),</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">Conservation =</span> <span class="fu">c</span>(<span class="st">"pollution"</span>, <span class="st">"peer"</span>, <span class="st">"global"</span>, <span class="st">"conservation"</span>,<span class="st">"Communications"</span>, <span class="st">"endangered"</span>, <span class="st">"Biology"</span>),</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">Evolution =</span> <span class="fu">c</span>(<span class="st">"bioscience"</span>, <span class="st">"Biogeography"</span>)</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Assign subject(s)</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>journal_subjects <span class="ot">&lt;-</span> scholar_output_prepped <span class="sc">%&gt;%</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">subject =</span> <span class="fu">sapply</span>(Journal, <span class="cf">function</span>(j) {</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>      matches <span class="ot">&lt;-</span> <span class="fu">names</span>(subject_keywords)[</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>        <span class="fu">sapply</span>(subject_keywords, <span class="cf">function</span>(keywords) {</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>          <span class="fu">any</span>(<span class="fu">grepl</span>(<span class="fu">paste</span>(keywords, <span class="at">collapse =</span> <span class="st">"|"</span>), j, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>))</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>        })</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>      ]</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste</span>(matches, <span class="at">collapse =</span> <span class="st">";"</span>)</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Count frequency of each journal per subject</span></span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>subject_freq <span class="ot">&lt;-</span> journal_subjects <span class="sc">%&gt;%</span></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(subject <span class="sc">!=</span> <span class="st">""</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate_rows</span>(subject, <span class="at">sep =</span> <span class="st">";"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(subject, Journal) <span class="sc">%&gt;%</span></span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(subject, <span class="fu">desc</span>(n)) <span class="sc">%&gt;%</span></span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">freq_scaled =</span> <span class="fu">log1p</span>(n))</span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a><span class="fu">wordcloud</span>(</span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a>  <span class="at">words =</span> subject_freq<span class="sc">$</span>Journal,</span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a>  <span class="at">freq =</span> subject_freq<span class="sc">$</span>n,</span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true" tabindex="-1"></a>  <span class="at">min.freq =</span> <span class="dv">1</span>,</span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true" tabindex="-1"></a>  <span class="at">max.words =</span> <span class="cn">Inf</span>,</span>
<span id="cb3-49"><a href="#cb3-49" aria-hidden="true" tabindex="-1"></a>  <span class="at">color=</span><span class="st">"#202020"</span>,</span>
<span id="cb3-50"><a href="#cb3-50" aria-hidden="true" tabindex="-1"></a> <span class="co"># colors = brewer.pal(4, "Spectral"),</span></span>
<span id="cb3-51"><a href="#cb3-51" aria-hidden="true" tabindex="-1"></a>  <span class="at">scale =</span> <span class="fu">c</span>(<span class="dv">5</span>,<span class="fl">0.5</span>),</span>
<span id="cb3-52"><a href="#cb3-52" aria-hidden="true" tabindex="-1"></a>  <span class="at">random.order =</span> <span class="cn">FALSE</span>,</span>
<span id="cb3-53"><a href="#cb3-53" aria-hidden="true" tabindex="-1"></a>  <span class="at">use.r.layout =</span> <span class="cn">TRUE</span>,</span>
<span id="cb3-54"><a href="#cb3-54" aria-hidden="true" tabindex="-1"></a>  <span class="at">rot.per=</span><span class="fl">0.3</span></span>
<span id="cb3-55"><a href="#cb3-55" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="publication_summary_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="cn">NULL</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="selected-publications" class="level1">
<h1>Selected publications</h1>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="do">## All publications to bib</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert to BibTeX format</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>scholar_bib <span class="ot">&lt;-</span> scholar_output <span class="sc">%&gt;%</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">bibtex_entry =</span> <span class="fu">paste0</span>(</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>      <span class="st">"@article{"</span>, pubid, <span class="st">",</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>      <span class="st">"  title = {"</span>, title, <span class="st">"},</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>      <span class="st">"  author = {"</span>, author, <span class="st">"},</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>      <span class="st">"  journal = {"</span>, journal, <span class="st">"},</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>      <span class="st">"  year = {"</span>, year, <span class="st">"},</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>      <span class="st">"  volume = {"</span>, <span class="fu">sub</span>(<span class="st">" </span><span class="sc">\\</span><span class="st">(.*"</span>, <span class="st">""</span>, number), <span class="st">"},</span><span class="sc">\n</span><span class="st">"</span>, <span class="co"># Extract volume before '('</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>      <span class="st">"  number = {"</span>, <span class="fu">sub</span>(<span class="st">".*</span><span class="sc">\\</span><span class="st">((.*)</span><span class="sc">\\</span><span class="st">).*"</span>, <span class="st">"</span><span class="sc">\\</span><span class="st">1"</span>, number), <span class="st">"},</span><span class="sc">\n</span><span class="st">"</span>, <span class="co"># Extract issue inside '()'</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>      <span class="st">"  pages = {"</span>, cites, <span class="st">"},</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>      <span class="st">"  cid = {"</span>, cid, <span class="st">"},</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>      <span class="st">"  pubid = {"</span>, pubid, <span class="st">"}</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>      <span class="st">"}"</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(bibtex_entry)</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a><span class="co">#writeLines(scholar_bib, "scholar_output.bib")</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a><span class="do">## select publications to bib</span></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>search_terms <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Global disparity"</span>, <span class="st">"sharks on coral reefs"</span>, <span class="st">"evolutionary history"</span>, <span class="st">"seascapes"</span>, <span class="st">"decline of branching"</span>, <span class="st">"decoupled in Holocene"</span>)</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>scholar_bib <span class="ot">&lt;-</span> scholar_output <span class="sc">%&gt;%</span></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">sapply</span>(title, <span class="cf">function</span>(x) <span class="fu">any</span>(<span class="fu">grepl</span>(<span class="fu">paste</span>(search_terms, <span class="at">collapse =</span> <span class="st">"|"</span>), x, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>)))) <span class="sc">|&gt;</span> </span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">bibtex_entry =</span> <span class="fu">paste0</span>(</span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>      <span class="st">"@article{"</span>, pubid, <span class="st">",</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>      <span class="st">"  title = {"</span>, title, <span class="st">"},</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>      <span class="st">"  author = {"</span>, author, <span class="st">"},</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>      <span class="st">"  journal = {"</span>, journal, <span class="st">"},</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>      <span class="st">"  year = {"</span>, year, <span class="st">"},</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>      <span class="st">"  volume = {"</span>, <span class="fu">sub</span>(<span class="st">" </span><span class="sc">\\</span><span class="st">(.*"</span>, <span class="st">""</span>, number), <span class="st">"},</span><span class="sc">\n</span><span class="st">"</span>, <span class="co"># Extract volume before '('</span></span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a>      <span class="st">"  number = {"</span>, <span class="fu">sub</span>(<span class="st">".*</span><span class="sc">\\</span><span class="st">((.*)</span><span class="sc">\\</span><span class="st">).*"</span>, <span class="st">"</span><span class="sc">\\</span><span class="st">1"</span>, number), <span class="st">"},</span><span class="sc">\n</span><span class="st">"</span>, <span class="co"># Extract issue inside '()'</span></span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>      <span class="st">"  pages = {"</span>, cites, <span class="st">"},</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a>      <span class="st">"  cid = {"</span>, cid, <span class="st">"},</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a>      <span class="st">"  pubid = {"</span>, pubid, <span class="st">"}</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a>      <span class="st">"}"</span></span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(bibtex_entry)</span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a><span class="fu">writeLines</span>(scholar_bib, <span class="st">"select_scholar_output.bib"</span>)</span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to lighten a vector of colors</span></span>
<span id="cb5-48"><a href="#cb5-48" aria-hidden="true" tabindex="-1"></a>lighten_colors <span class="ot">&lt;-</span> <span class="cf">function</span>(colors, <span class="at">factor =</span> <span class="fl">0.5</span>) {</span>
<span id="cb5-49"><a href="#cb5-49" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (factor <span class="sc">&lt;</span> <span class="dv">0</span> <span class="sc">||</span> factor <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="fu">stop</span>(<span class="st">"Factor must be between 0 and 1"</span>)</span>
<span id="cb5-50"><a href="#cb5-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">col2rgb</span>(colors) <span class="sc">%&gt;%</span></span>
<span id="cb5-51"><a href="#cb5-51" aria-hidden="true" tabindex="-1"></a>    <span class="fu">t</span>() <span class="sc">%&gt;%</span></span>
<span id="cb5-52"><a href="#cb5-52" aria-hidden="true" tabindex="-1"></a>    <span class="fu">apply</span>(<span class="dv">1</span>, <span class="cf">function</span>(col) {</span>
<span id="cb5-53"><a href="#cb5-53" aria-hidden="true" tabindex="-1"></a>      <span class="fu">rgb</span>(</span>
<span id="cb5-54"><a href="#cb5-54" aria-hidden="true" tabindex="-1"></a>        <span class="at">red =</span> col[<span class="dv">1</span>] <span class="sc">+</span> (<span class="dv">255</span> <span class="sc">-</span> col[<span class="dv">1</span>]) <span class="sc">*</span> factor,</span>
<span id="cb5-55"><a href="#cb5-55" aria-hidden="true" tabindex="-1"></a>        <span class="at">green =</span> col[<span class="dv">2</span>] <span class="sc">+</span> (<span class="dv">255</span> <span class="sc">-</span> col[<span class="dv">2</span>]) <span class="sc">*</span> factor,</span>
<span id="cb5-56"><a href="#cb5-56" aria-hidden="true" tabindex="-1"></a>        <span class="at">blue =</span> col[<span class="dv">3</span>] <span class="sc">+</span> (<span class="dv">255</span> <span class="sc">-</span> col[<span class="dv">3</span>]) <span class="sc">*</span> factor,</span>
<span id="cb5-57"><a href="#cb5-57" aria-hidden="true" tabindex="-1"></a>        <span class="at">maxColorValue =</span> <span class="dv">255</span></span>
<span id="cb5-58"><a href="#cb5-58" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb5-59"><a href="#cb5-59" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb5-60"><a href="#cb5-60" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb5-61"><a href="#cb5-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-62"><a href="#cb5-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-63"><a href="#cb5-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-64"><a href="#cb5-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-65"><a href="#cb5-65" aria-hidden="true" tabindex="-1"></a>pubs_per_year <span class="ot">&lt;-</span> scholar_output <span class="sc">%&gt;%</span></span>
<span id="cb5-66"><a href="#cb5-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span></span>
<span id="cb5-67"><a href="#cb5-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">publications =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">'drop'</span>)</span>
<span id="cb5-68"><a href="#cb5-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-69"><a href="#cb5-69" aria-hidden="true" tabindex="-1"></a>scholar_output_prepped <span class="ot">&lt;-</span> scholar_output <span class="sc">%&gt;%</span></span>
<span id="cb5-70"><a href="#cb5-70" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb5-71"><a href="#cb5-71" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(year), cites) <span class="sc">%&gt;%</span></span>
<span id="cb5-72"><a href="#cb5-72" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb5-73"><a href="#cb5-73" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">seq</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(.)),</span>
<span id="cb5-74"><a href="#cb5-74" aria-hidden="true" tabindex="-1"></a>    <span class="at">author =</span> <span class="fu">gsub</span>(<span class="st">"(G Roff)"</span>, <span class="st">"&lt;b&gt;</span><span class="sc">\\</span><span class="st">1&lt;/b&gt;"</span>, author, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>),  <span class="co"># Use HTML for bold formatting</span></span>
<span id="cb5-75"><a href="#cb5-75" aria-hidden="true" tabindex="-1"></a>    <span class="at">cites =</span> <span class="fu">as.numeric</span>(cites)  <span class="co"># Ensure cites is numeric</span></span>
<span id="cb5-76"><a href="#cb5-76" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb5-77"><a href="#cb5-77" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(n, author, year, title, journal, number, cites) <span class="sc">%&gt;%</span></span>
<span id="cb5-78"><a href="#cb5-78" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb5-79"><a href="#cb5-79" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Year"</span> <span class="ot">=</span> <span class="st">"year"</span>,</span>
<span id="cb5-80"><a href="#cb5-80" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Authors"</span> <span class="ot">=</span> <span class="st">"author"</span>,</span>
<span id="cb5-81"><a href="#cb5-81" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Journal"</span> <span class="ot">=</span> <span class="st">"journal"</span>,</span>
<span id="cb5-82"><a href="#cb5-82" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Issue/Number"</span> <span class="ot">=</span> <span class="st">"number"</span>,</span>
<span id="cb5-83"><a href="#cb5-83" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Citations"</span> <span class="ot">=</span> <span class="st">"cites"</span></span>
<span id="cb5-84"><a href="#cb5-84" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb5-85"><a href="#cb5-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-86"><a href="#cb5-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-87"><a href="#cb5-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-88"><a href="#cb5-88" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate colors using RColorBrewer with adjusted alpha</span></span>
<span id="cb5-89"><a href="#cb5-89" aria-hidden="true" tabindex="-1"></a>num_colors <span class="ot">&lt;-</span> <span class="fu">nrow</span>(scholar_output_prepped)</span>
<span id="cb5-90"><a href="#cb5-90" aria-hidden="true" tabindex="-1"></a>color_palette <span class="ot">&lt;-</span> <span class="fu">colorRampPalette</span>(<span class="fu">rev</span>(RColorBrewer<span class="sc">::</span><span class="fu">brewer.pal</span>(<span class="dv">9</span>, <span class="st">"RdYlBu"</span>)))(num_colors)</span>
<span id="cb5-91"><a href="#cb5-91" aria-hidden="true" tabindex="-1"></a>color_palette <span class="ot">&lt;-</span> <span class="fu">lighten_colors</span>(color_palette, <span class="at">factor =</span> <span class="fl">0.4</span>)  <span class="co"># Set alpha to 0.7</span></span>
<span id="cb5-92"><a href="#cb5-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-93"><a href="#cb5-93" aria-hidden="true" tabindex="-1"></a><span class="co"># Map colors to the Citations column</span></span>
<span id="cb5-94"><a href="#cb5-94" aria-hidden="true" tabindex="-1"></a>scholar_output_prepped <span class="ot">&lt;-</span> scholar_output_prepped <span class="sc">%&gt;%</span></span>
<span id="cb5-95"><a href="#cb5-95" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">filter</span>(<span class="fu">grepl</span>(<span class="st">"Palaeoecological evidence"</span>, title) <span class="sc">|</span> </span>
<span id="cb5-96"><a href="#cb5-96" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">grepl</span>(<span class="st">"Global disparity"</span>, title) <span class="sc">|</span></span>
<span id="cb5-97"><a href="#cb5-97" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">grepl</span>(<span class="st">"Decadal‐scale rates of reef erosion"</span>, title) <span class="sc">|</span></span>
<span id="cb5-98"><a href="#cb5-98" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">grepl</span>(<span class="st">"Seascape"</span>, title) <span class="sc">|</span></span>
<span id="cb5-99"><a href="#cb5-99" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">grepl</span>(<span class="st">"Rapid accretion of inshore reef"</span>, title) <span class="sc">|</span></span>
<span id="cb5-100"><a href="#cb5-100" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">grepl</span>(<span class="st">"Reassessing Shark-Driven Trophic"</span>, title) <span class="sc">|</span></span>
<span id="cb5-101"><a href="#cb5-101" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">grepl</span>(<span class="st">"Decline of coastal apex shark populations"</span>, title) <span class="sc">|</span></span>
<span id="cb5-102"><a href="#cb5-102" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">grepl</span>(<span class="st">"Reef accretion and coral growth rates"</span>, title) <span class="sc">|</span></span>
<span id="cb5-103"><a href="#cb5-103" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">grepl</span>(<span class="st">"Evolutionary history drives"</span>, title) <span class="sc">|</span></span>
<span id="cb5-104"><a href="#cb5-104" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">grepl</span>(<span class="st">"Revisiting the paradigm of shark‐driven"</span>, title) <span class="sc">|</span></span>
<span id="cb5-105"><a href="#cb5-105" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">grepl</span>(<span class="st">"Climate change impacts on mesophotic regions"</span>, title) <span class="sc">|</span></span>
<span id="cb5-106"><a href="#cb5-106" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">grepl</span>(<span class="st">"Reef accretion and coral growth rates"</span>, title) <span class="sc">|</span></span>
<span id="cb5-107"><a href="#cb5-107" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">grepl</span>(<span class="st">"Cryptic coral recruits as dormant “seed banks”"</span>, title)</span>
<span id="cb5-108"><a href="#cb5-108" aria-hidden="true" tabindex="-1"></a>                                  ) <span class="sc">|&gt;</span> </span>
<span id="cb5-109"><a href="#cb5-109" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb5-110"><a href="#cb5-110" aria-hidden="true" tabindex="-1"></a>    <span class="at">cite_color =</span> color_palette[<span class="fu">rank</span>(Citations, <span class="at">ties.method =</span> <span class="st">"first"</span>)]</span>
<span id="cb5-111"><a href="#cb5-111" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb5-112"><a href="#cb5-112" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-113"><a href="#cb5-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-114"><a href="#cb5-114" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(</span>
<span id="cb5-115"><a href="#cb5-115" aria-hidden="true" tabindex="-1"></a>  scholar_output_prepped <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>cite_color) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">n=</span><span class="fu">seq</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">n</span>())),</span>
<span id="cb5-116"><a href="#cb5-116" aria-hidden="true" tabindex="-1"></a>  <span class="at">escape =</span> <span class="cn">FALSE</span>,</span>
<span id="cb5-117"><a href="#cb5-117" aria-hidden="true" tabindex="-1"></a>  <span class="at">options =</span> <span class="fu">list</span>(</span>
<span id="cb5-118"><a href="#cb5-118" aria-hidden="true" tabindex="-1"></a>    <span class="at">search =</span> <span class="fu">list</span>(<span class="at">regex =</span> <span class="cn">TRUE</span>, <span class="at">caseInsensitive =</span> <span class="cn">FALSE</span>),</span>
<span id="cb5-119"><a href="#cb5-119" aria-hidden="true" tabindex="-1"></a>    <span class="at">autoWidth =</span> <span class="cn">FALSE</span>,</span>
<span id="cb5-120"><a href="#cb5-120" aria-hidden="true" tabindex="-1"></a>    <span class="at">dom =</span> <span class="st">'t&lt;"bottom"ip&gt;'</span>,</span>
<span id="cb5-121"><a href="#cb5-121" aria-hidden="true" tabindex="-1"></a>    <span class="at">pageLength =</span> <span class="dv">100</span>,</span>
<span id="cb5-122"><a href="#cb5-122" aria-hidden="true" tabindex="-1"></a>    <span class="at">columnDefs =</span> <span class="fu">list</span>(</span>
<span id="cb5-123"><a href="#cb5-123" aria-hidden="true" tabindex="-1"></a>      <span class="fu">list</span>(<span class="at">className =</span> <span class="st">'dt-center'</span>, <span class="at">targets =</span> <span class="st">"_all"</span>),</span>
<span id="cb5-124"><a href="#cb5-124" aria-hidden="true" tabindex="-1"></a>      <span class="fu">list</span>(<span class="at">width =</span> <span class="st">'10%'</span>, <span class="at">targets =</span> <span class="dv">0</span>),</span>
<span id="cb5-125"><a href="#cb5-125" aria-hidden="true" tabindex="-1"></a>      <span class="fu">list</span>(<span class="at">width =</span> <span class="st">'30%'</span>, <span class="at">targets =</span> <span class="dv">1</span>),</span>
<span id="cb5-126"><a href="#cb5-126" aria-hidden="true" tabindex="-1"></a>      <span class="fu">list</span>(<span class="at">width =</span> <span class="st">'10%'</span>, <span class="at">targets =</span> <span class="dv">2</span>),</span>
<span id="cb5-127"><a href="#cb5-127" aria-hidden="true" tabindex="-1"></a>      <span class="fu">list</span>(<span class="at">width =</span> <span class="st">'30%'</span>, <span class="at">targets =</span> <span class="dv">3</span>),</span>
<span id="cb5-128"><a href="#cb5-128" aria-hidden="true" tabindex="-1"></a>      <span class="fu">list</span>(<span class="at">width =</span> <span class="st">'10%'</span>, <span class="at">targets =</span> <span class="dv">4</span>),</span>
<span id="cb5-129"><a href="#cb5-129" aria-hidden="true" tabindex="-1"></a>      <span class="fu">list</span>(<span class="at">width =</span> <span class="st">'10%'</span>, <span class="at">targets =</span> <span class="dv">5</span>),</span>
<span id="cb5-130"><a href="#cb5-130" aria-hidden="true" tabindex="-1"></a>      <span class="fu">list</span>(<span class="at">width =</span> <span class="st">'10%'</span>, <span class="at">targets =</span> <span class="dv">6</span>)</span>
<span id="cb5-131"><a href="#cb5-131" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb5-132"><a href="#cb5-132" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb5-133"><a href="#cb5-133" aria-hidden="true" tabindex="-1"></a>  <span class="at">rownames =</span> <span class="cn">FALSE</span>,</span>
<span id="cb5-134"><a href="#cb5-134" aria-hidden="true" tabindex="-1"></a>  <span class="at">class =</span> <span class="st">"cell-border stripe"</span></span>
<span id="cb5-135"><a href="#cb5-135" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> </span>
<span id="cb5-136"><a href="#cb5-136" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatStyle</span>( <span class="st">'Citations'</span>,</span>
<span id="cb5-137"><a href="#cb5-137" aria-hidden="true" tabindex="-1"></a>  <span class="at">backgroundColor =</span> <span class="fu">styleEqual</span>(scholar_output_prepped<span class="sc">$</span>Citations, scholar_output_prepped<span class="sc">$</span>cite_color),</span>
<span id="cb5-138"><a href="#cb5-138" aria-hidden="true" tabindex="-1"></a>  <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">fontSize =</span> <span class="st">'60%'</span></span>
<span id="cb5-139"><a href="#cb5-139" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb5-140"><a href="#cb5-140" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatStyle</span>(<span class="at">columns =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>), <span class="at">fontSize =</span> <span class="st">'80%'</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-d1413259f40fcae5f109" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-d1413259f40fcae5f109">{"x":{"filter":"none","vertical":false,"data":[[1,2,3,4,5,6,7,8,9,10,11,12],["JK McWhorter, PR Halloran, <b>G Roff<\/b>, PJ Mumby","C Doropoulos, Y-M Bozec, M Gouezo, MA Priest, DP Thomson, PJ Mumby, <b>G Roff<\/b>","<b>G Roff<\/b>","AA Desbiens, <b>G Roff<\/b>, WD Robbins, BM Taylor, C Castro‐Sanguino, A Dempsey, PJ Mumby","<b>G Roff<\/b>","<b>G Roff<\/b>, S Bejarano, M Priest, A Marshell, I Chollett, RS Steneck, C Doropoulos, Y Golbuu, PJ Mumby","<b>G Roff<\/b>, CJ Brown, MA Priest, PJ Mumby","<b>G Roff<\/b>, C Doropoulos, A Rogers, Y-M Bozec, NC Krueck, E Aurellado, M Priest, C Birrell, PJ Mumby","<b>G Roff<\/b>, J Zhao, JM Pandolfi","<b>G Roff<\/b>, J Zhao, PJ Mumby","<b>G Roff<\/b>, TR Clark, CE Reymond, J-x Zhao, Y Feng, LJ McCook, TJ Done, JM Pandolfi","<b>G Roff<\/b>, PJ Mumby"],[2024,2022,2021,2021,2020,2019,2018,2016,2015,2015,2013,2012],["Climate change impacts on mesophotic regions of the Great Barrier Reef","Cryptic coral recruits as dormant “seed banks”","Evolutionary history drives biogeographic patterns of coral reef resilience","Revisiting the paradigm of shark‐driven trophic cascades in coral reef ecosystems","Reef accretion and coral growth rates are decoupled in Holocene reef frameworks","Seascapes as drivers of herbivore assemblages in coral reef ecosystems","Decline of coastal apex shark populations over the past half century","Reassessing Shark-Driven Trophic Cascades on Coral Reefs: A Reply to Ruppert et al.","Rapid accretion of inshore reef slopes from the central Great Barrier Reef during the late Holocene","Decadal‐scale rates of reef erosion following El Niño‐related mass coral mortality","Palaeoecological evidence of a historical collapse of corals at Pelorus Island, inshore Great Barrier Reef, following European settlement","Global disparity in the resilience of coral reefs"],["Proceedings of the National Academy of Sciences","Ecology","Bioscience","Ecology","Marine Geology","Ecological Monographs","Communications Biology","Trends in Ecology & Evolution","Geology","Global Change Biology","Proceedings of the Royal Society B: Biological Sciences","Trends in ecology & evolution"],["121 (16), e2303336121","103 (3), 1-6","71 (1), 26-39","102 (4), e03303","419, 106065","89 (1), e01336","1 (1), 223","31 (8), 587-589","43 (4), 343-346","21 (12), 4415-4424","280 (1750), 20122100","27 (7), 404-413"],[2,14,37,43,30,62,193,17,35,43,167,501]],"container":"<table class=\"cell-border stripe\">\n  <thead>\n    <tr>\n      <th>n<\/th>\n      <th>Authors<\/th>\n      <th>Year<\/th>\n      <th>title<\/th>\n      <th>Journal<\/th>\n      <th>Issue/Number<\/th>\n      <th>Citations<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"search":{"regex":true,"caseInsensitive":false},"autoWidth":false,"dom":"t<\"bottom\"ip>","pageLength":100,"columnDefs":[{"className":"dt-center","targets":"_all"},{"width":"10%","targets":0},{"width":"30%","targets":1},{"width":"10%","targets":2},{"width":"30%","targets":3},{"width":"10%","targets":4},{"width":"10%","targets":5},{"width":"10%","targets":6},{"name":"n","targets":0},{"name":"Authors","targets":1},{"name":"Year","targets":2},{"name":"title","targets":3},{"name":"Journal","targets":4},{"name":"Issue/Number","targets":5},{"name":"Citations","targets":6}],"order":[],"orderClasses":false,"rowCallback":"function(row, data, displayNum, displayIndex, dataIndex) {\nvar value=data[6]; $(this.api().cell(row, 6).node()).css({'color':'black','background-color':value == 2 ? \"#8FACD2\" : value == 14 ? \"#91AED3\" : value == 37 ? \"#9ABAD8\" : value == 43 ? \"#9DBCDA\" : value == 30 ? \"#96B4D6\" : value == 62 ? \"#A2C1DD\" : value == 193 ? \"#A6C7DF\" : value == 17 ? \"#93B1D4\" : value == 35 ? \"#98B7D7\" : value == 43 ? \"#9FBFDB\" : value == 167 ? \"#A3C4DE\" : value == 501 ? \"#A8CAE1\" : null,'font-size':'60%'});\nvar value=data[0]; $(this.api().cell(row, 0).node()).css({'font-size':'80%'});\nvar value=data[1]; $(this.api().cell(row, 1).node()).css({'font-size':'80%'});\nvar value=data[2]; $(this.api().cell(row, 2).node()).css({'font-size':'80%'});\nvar value=data[3]; $(this.api().cell(row, 3).node()).css({'font-size':'80%'});\nvar value=data[4]; $(this.api().cell(row, 4).node()).css({'font-size':'80%'});\nvar value=data[5]; $(this.api().cell(row, 5).node()).css({'font-size':'80%'});\nvar value=data[6]; $(this.api().cell(row, 6).node()).css({'font-size':'80%'});\n}"}},"evals":["options.rowCallback"],"jsHooks":[]}</script>
</div>
</div>


<!-- -->

</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
    const viewSource = window.document.getElementById('quarto-view-source') ||
                       window.document.getElementById('quarto-code-tools-source');
    if (viewSource) {
      const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
      viewSource.addEventListener("click", function(e) {
        if (sourceUrl) {
          // rstudio viewer pane
          if (/\bcapabilities=\b/.test(window.location)) {
            window.open(sourceUrl);
          } else {
            window.location.href = sourceUrl;
          }
        } else {
          const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
          modal.show();
        }
        return false;
      });
    }
    function toggleCodeHandler(show) {
      return function(e) {
        const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
        for (let i=0; i<detailsSrc.length; i++) {
          const details = detailsSrc[i].parentElement;
          if (show) {
            details.open = true;
          } else {
            details.removeAttribute("open");
          }
        }
        const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
        const fromCls = show ? "hidden" : "unhidden";
        const toCls = show ? "unhidden" : "hidden";
        for (let i=0; i<cellCodeDivs.length; i++) {
          const codeDiv = cellCodeDivs[i];
          if (codeDiv.classList.contains(fromCls)) {
            codeDiv.classList.remove(fromCls);
            codeDiv.classList.add(toCls);
          } 
        }
        return false;
      }
    }
    const hideAllCode = window.document.getElementById("quarto-hide-all-code");
    if (hideAllCode) {
      hideAllCode.addEventListener("click", toggleCodeHandler(false));
    }
    const showAllCode = window.document.getElementById("quarto-show-all-code");
    if (showAllCode) {
      showAllCode.addEventListener("click", toggleCodeHandler(true));
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/marine-ecologist\.github\.io\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb6" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Publications"</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> "George Roff"</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> "2025-03-18"</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="co">    toc: FALSE</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: true</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="an">execute:</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="co">  echo: true</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a><span class="co">  warning: false</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="co">  message: false</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a><span class="an">editor:</span><span class="co"> visual</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a><span class="co">#| cache: false</span></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 8</span></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 12</span></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer)</span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a><span class="fu">conflicts_prefer</span>(plotly<span class="sc">::</span>layout)</span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scholar)</span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(magrittr)</span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a>scholar_id <span class="ot">&lt;-</span> <span class="st">"g_m1R7IAAAAJ"</span></span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a>scholar_output <span class="ot">&lt;-</span> scholar<span class="sc">::</span><span class="fu">get_publications</span>(<span class="at">id =</span> scholar_id) <span class="sc">%&gt;%</span></span>
<span id="cb6-41"><a href="#cb6-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span></span>
<span id="cb6-42"><a href="#cb6-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb6-43"><a href="#cb6-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">author =</span> <span class="fu">case_when</span>(</span>
<span id="cb6-44"><a href="#cb6-44" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_ends</span>(author, <span class="st">"</span><span class="sc">\\</span><span class="st">.</span><span class="sc">\\</span><span class="st">.</span><span class="sc">\\</span><span class="st">."</span>) <span class="sc">~</span> <span class="fu">get_complete_authors</span>(<span class="at">id =</span> scholar_id, <span class="at">pubid =</span> pubid),</span>
<span id="cb6-45"><a href="#cb6-45" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> author</span>
<span id="cb6-46"><a href="#cb6-46" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb6-47"><a href="#cb6-47" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb6-48"><a href="#cb6-48" aria-hidden="true" tabindex="-1"></a><span class="fu">ungroup</span>()</span>
<span id="cb6-49"><a href="#cb6-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-50"><a href="#cb6-50" aria-hidden="true" tabindex="-1"></a>profile <span class="ot">&lt;-</span> scholar<span class="sc">::</span><span class="fu">get_profile</span>(scholar_id)</span>
<span id="cb6-51"><a href="#cb6-51" aria-hidden="true" tabindex="-1"></a>                                </span>
<span id="cb6-52"><a href="#cb6-52" aria-hidden="true" tabindex="-1"></a>citation_history <span class="ot">&lt;-</span> scholar<span class="sc">::</span><span class="fu">get_citation_history</span>(<span class="at">id =</span> scholar_id)</span>
<span id="cb6-53"><a href="#cb6-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-54"><a href="#cb6-54" aria-hidden="true" tabindex="-1"></a>npapers <span class="ot">&lt;-</span> scholar_output<span class="sc">$</span>title <span class="sc">|&gt;</span> <span class="fu">unique</span>() <span class="sc">|&gt;</span> <span class="fu">length</span>()</span>
<span id="cb6-55"><a href="#cb6-55" aria-hidden="true" tabindex="-1"></a>ncites <span class="ot">&lt;-</span> scholar_output<span class="sc">$</span>cites <span class="sc">|&gt;</span> <span class="fu">sum</span>()</span>
<span id="cb6-56"><a href="#cb6-56" aria-hidden="true" tabindex="-1"></a>hindex <span class="ot">&lt;-</span> profile<span class="sc">$</span>h_index</span>
<span id="cb6-57"><a href="#cb6-57" aria-hidden="true" tabindex="-1"></a>i10 <span class="ot">&lt;-</span> profile<span class="sc">$</span>i10_index</span>
<span id="cb6-58"><a href="#cb6-58" aria-hidden="true" tabindex="-1"></a>affiliation <span class="ot">&lt;-</span> profile<span class="sc">$</span>affiliation</span>
<span id="cb6-59"><a href="#cb6-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-60"><a href="#cb6-60" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(</span>
<span id="cb6-61"><a href="#cb6-61" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>(</span>
<span id="cb6-62"><a href="#cb6-62" aria-hidden="true" tabindex="-1"></a>    <span class="at">a =</span> <span class="fu">c</span>(<span class="st">"Author"</span>, <span class="st">"Affiliation"</span>, <span class="st">"Total Citations"</span>, <span class="st">"i-10 index"</span>, <span class="st">"h-index"</span>, <span class="st">"Publications to date"</span>),</span>
<span id="cb6-63"><a href="#cb6-63" aria-hidden="true" tabindex="-1"></a>    <span class="at">b =</span> <span class="fu">c</span>(<span class="st">"George Roff"</span>, affiliation, ncites, hindex, i10, npapers)</span>
<span id="cb6-64"><a href="#cb6-64" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> <span class="fu">t</span>(),</span>
<span id="cb6-65"><a href="#cb6-65" aria-hidden="true" tabindex="-1"></a>  <span class="at">colnames =</span> <span class="cn">NULL</span>,</span>
<span id="cb6-66"><a href="#cb6-66" aria-hidden="true" tabindex="-1"></a>  <span class="at">options =</span> <span class="fu">list</span>(</span>
<span id="cb6-67"><a href="#cb6-67" aria-hidden="true" tabindex="-1"></a>    <span class="at">dom =</span> <span class="st">'t'</span>,  <span class="co"># show only the table body</span></span>
<span id="cb6-68"><a href="#cb6-68" aria-hidden="true" tabindex="-1"></a>    <span class="at">paging =</span> <span class="cn">FALSE</span>,</span>
<span id="cb6-69"><a href="#cb6-69" aria-hidden="true" tabindex="-1"></a>    <span class="at">ordering =</span> <span class="cn">FALSE</span></span>
<span id="cb6-70"><a href="#cb6-70" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb6-71"><a href="#cb6-71" aria-hidden="true" tabindex="-1"></a>  <span class="at">rownames =</span> <span class="cn">FALSE</span></span>
<span id="cb6-72"><a href="#cb6-72" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb6-73"><a href="#cb6-73" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatStyle</span>(<span class="at">columns =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>), <span class="at">fontSize =</span> <span class="st">'80%'</span>) </span>
<span id="cb6-74"><a href="#cb6-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-75"><a href="#cb6-75" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb6-76"><a href="#cb6-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-77"><a href="#cb6-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-78"><a href="#cb6-78" aria-hidden="true" tabindex="-1"></a>All publication data generated dynamically <span class="in">`R`</span> (<span class="in">`scholar`</span>, <span class="in">`wordcloud`</span>) and <span class="in">`Plotly`</span>:</span>
<span id="cb6-79"><a href="#cb6-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-80"><a href="#cb6-80" aria-hidden="true" tabindex="-1"></a><span class="fu">### Summary statistics</span></span>
<span id="cb6-81"><a href="#cb6-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-84"><a href="#cb6-84" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb6-85"><a href="#cb6-85" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb6-86"><a href="#cb6-86" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb6-87"><a href="#cb6-87" aria-hidden="true" tabindex="-1"></a><span class="co">#| cache: true</span></span>
<span id="cb6-88"><a href="#cb6-88" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 12</span></span>
<span id="cb6-89"><a href="#cb6-89" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 6</span></span>
<span id="cb6-90"><a href="#cb6-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-91"><a href="#cb6-91" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb6-92"><a href="#cb6-92" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb6-93"><a href="#cb6-93" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb6-94"><a href="#cb6-94" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer)</span>
<span id="cb6-95"><a href="#cb6-95" aria-hidden="true" tabindex="-1"></a><span class="fu">conflicts_prefer</span>(plotly<span class="sc">::</span>layout)</span>
<span id="cb6-96"><a href="#cb6-96" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-97"><a href="#cb6-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-98"><a href="#cb6-98" aria-hidden="true" tabindex="-1"></a>pubs_per_year <span class="ot">&lt;-</span> scholar_output <span class="sc">%&gt;%</span></span>
<span id="cb6-99"><a href="#cb6-99" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span></span>
<span id="cb6-100"><a href="#cb6-100" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">publications =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">'drop'</span>)</span>
<span id="cb6-101"><a href="#cb6-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-102"><a href="#cb6-102" aria-hidden="true" tabindex="-1"></a>scholar_output_prepped <span class="ot">&lt;-</span> scholar_output <span class="sc">%&gt;%</span></span>
<span id="cb6-103"><a href="#cb6-103" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb6-104"><a href="#cb6-104" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(year), cites) <span class="sc">%&gt;%</span></span>
<span id="cb6-105"><a href="#cb6-105" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb6-106"><a href="#cb6-106" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">seq</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(.)),</span>
<span id="cb6-107"><a href="#cb6-107" aria-hidden="true" tabindex="-1"></a>    <span class="at">author =</span> <span class="fu">gsub</span>(<span class="st">"(G Roff)"</span>, <span class="st">"&lt;b&gt;</span><span class="sc">\\</span><span class="st">1&lt;/b&gt;"</span>, author, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>),  <span class="co"># Use HTML for bold formatting</span></span>
<span id="cb6-108"><a href="#cb6-108" aria-hidden="true" tabindex="-1"></a>    <span class="at">cites =</span> <span class="fu">as.numeric</span>(cites)  <span class="co"># Ensure cites is numeric</span></span>
<span id="cb6-109"><a href="#cb6-109" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb6-110"><a href="#cb6-110" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(n, author, year, title, journal, number, cites) <span class="sc">%&gt;%</span></span>
<span id="cb6-111"><a href="#cb6-111" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb6-112"><a href="#cb6-112" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Year"</span> <span class="ot">=</span> <span class="st">"year"</span>,</span>
<span id="cb6-113"><a href="#cb6-113" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Authors"</span> <span class="ot">=</span> <span class="st">"author"</span>,</span>
<span id="cb6-114"><a href="#cb6-114" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Journal"</span> <span class="ot">=</span> <span class="st">"journal"</span>,</span>
<span id="cb6-115"><a href="#cb6-115" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Issue/Number"</span> <span class="ot">=</span> <span class="st">"number"</span>,</span>
<span id="cb6-116"><a href="#cb6-116" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Citations"</span> <span class="ot">=</span> <span class="st">"cites"</span></span>
<span id="cb6-117"><a href="#cb6-117" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb6-118"><a href="#cb6-118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-119"><a href="#cb6-119" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-120"><a href="#cb6-120" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-121"><a href="#cb6-121" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-122"><a href="#cb6-122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-123"><a href="#cb6-123" aria-hidden="true" tabindex="-1"></a><span class="do">###### Plot 1 – Publications per Year</span></span>
<span id="cb6-124"><a href="#cb6-124" aria-hidden="true" tabindex="-1"></a>pubs_per_year <span class="ot">&lt;-</span> scholar_output <span class="sc">%&gt;%</span></span>
<span id="cb6-125"><a href="#cb6-125" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span></span>
<span id="cb6-126"><a href="#cb6-126" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">publications =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">'drop'</span>)</span>
<span id="cb6-127"><a href="#cb6-127" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-128"><a href="#cb6-128" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate Spectral palette for publications</span></span>
<span id="cb6-129"><a href="#cb6-129" aria-hidden="true" tabindex="-1"></a>num_years <span class="ot">&lt;-</span> <span class="fu">nrow</span>(pubs_per_year)</span>
<span id="cb6-130"><a href="#cb6-130" aria-hidden="true" tabindex="-1"></a>colors1 <span class="ot">&lt;-</span> <span class="fu">colorRampPalette</span>(<span class="fu">brewer.pal</span>(<span class="dv">11</span>, <span class="st">"Spectral"</span>))(num_years)</span>
<span id="cb6-131"><a href="#cb6-131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-132"><a href="#cb6-132" aria-hidden="true" tabindex="-1"></a>pubs_plot <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(</span>
<span id="cb6-133"><a href="#cb6-133" aria-hidden="true" tabindex="-1"></a>  pubs_per_year,</span>
<span id="cb6-134"><a href="#cb6-134" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="sc">~</span>year,</span>
<span id="cb6-135"><a href="#cb6-135" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="sc">~</span>publications,</span>
<span id="cb6-136"><a href="#cb6-136" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">'bar'</span>,</span>
<span id="cb6-137"><a href="#cb6-137" aria-hidden="true" tabindex="-1"></a>  <span class="at">marker =</span> <span class="fu">list</span>(</span>
<span id="cb6-138"><a href="#cb6-138" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> colors1,</span>
<span id="cb6-139"><a href="#cb6-139" aria-hidden="true" tabindex="-1"></a>    <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'black'</span>, <span class="at">width =</span> <span class="dv">1</span>)  <span class="co"># Add thin black border</span></span>
<span id="cb6-140"><a href="#cb6-140" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb6-141"><a href="#cb6-141" aria-hidden="true" tabindex="-1"></a>  <span class="at">hoverinfo =</span> <span class="st">'text'</span>,</span>
<span id="cb6-142"><a href="#cb6-142" aria-hidden="true" tabindex="-1"></a>  <span class="at">text =</span> <span class="sc">~</span><span class="fu">paste0</span>(<span class="st">"Year: "</span>, year, <span class="st">"&lt;br&gt;Publications: "</span>, publications),</span>
<span id="cb6-143"><a href="#cb6-143" aria-hidden="true" tabindex="-1"></a>  <span class="at">textfont =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">6</span>)</span>
<span id="cb6-144"><a href="#cb6-144" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb6-145"><a href="#cb6-145" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(</span>
<span id="cb6-146"><a href="#cb6-146" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Publications per Year"</span>,</span>
<span id="cb6-147"><a href="#cb6-147" aria-hidden="true" tabindex="-1"></a>    <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Year"</span>),</span>
<span id="cb6-148"><a href="#cb6-148" aria-hidden="true" tabindex="-1"></a>    <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Number of Publications"</span>),</span>
<span id="cb6-149"><a href="#cb6-149" aria-hidden="true" tabindex="-1"></a>    <span class="at">showlegend =</span> <span class="cn">FALSE</span></span>
<span id="cb6-150"><a href="#cb6-150" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb6-151"><a href="#cb6-151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-152"><a href="#cb6-152" aria-hidden="true" tabindex="-1"></a><span class="do">####### Plot 2 – Cumulative Citations per Year</span></span>
<span id="cb6-153"><a href="#cb6-153" aria-hidden="true" tabindex="-1"></a>cumulative_citations <span class="ot">&lt;-</span> citation_history <span class="sc">%&gt;%</span></span>
<span id="cb6-154"><a href="#cb6-154" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(year) <span class="sc">%&gt;%</span></span>
<span id="cb6-155"><a href="#cb6-155" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">cumulative_cites =</span> <span class="fu">cumsum</span>(cites))</span>
<span id="cb6-156"><a href="#cb6-156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-157"><a href="#cb6-157" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 5: Plot 3 – Citations by Publication Rank</span></span>
<span id="cb6-158"><a href="#cb6-158" aria-hidden="true" tabindex="-1"></a>scholar_output_ranked <span class="ot">&lt;-</span> scholar_output <span class="sc">%&gt;%</span></span>
<span id="cb6-159"><a href="#cb6-159" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(cites)) <span class="sc">%&gt;%</span></span>
<span id="cb6-160"><a href="#cb6-160" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n =</span> <span class="fu">row_number</span>())</span>
<span id="cb6-161"><a href="#cb6-161" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-162"><a href="#cb6-162" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-163"><a href="#cb6-163" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate Spectral palette for publication rank plot</span></span>
<span id="cb6-164"><a href="#cb6-164" aria-hidden="true" tabindex="-1"></a>num_ranked <span class="ot">&lt;-</span> <span class="fu">nrow</span>(scholar_output_ranked)</span>
<span id="cb6-165"><a href="#cb6-165" aria-hidden="true" tabindex="-1"></a>colors_ranked <span class="ot">&lt;-</span> <span class="fu">colorRampPalette</span>(<span class="fu">brewer.pal</span>(<span class="dv">8</span>, <span class="st">"RdYlBu"</span>))(num_ranked)</span>
<span id="cb6-166"><a href="#cb6-166" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-167"><a href="#cb6-167" aria-hidden="true" tabindex="-1"></a>rank_plot <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(</span>
<span id="cb6-168"><a href="#cb6-168" aria-hidden="true" tabindex="-1"></a>  scholar_output_ranked,</span>
<span id="cb6-169"><a href="#cb6-169" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="sc">~</span>n,</span>
<span id="cb6-170"><a href="#cb6-170" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="sc">~</span>cites,</span>
<span id="cb6-171"><a href="#cb6-171" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">'bar'</span>,</span>
<span id="cb6-172"><a href="#cb6-172" aria-hidden="true" tabindex="-1"></a>  <span class="at">marker =</span> <span class="fu">list</span>(</span>
<span id="cb6-173"><a href="#cb6-173" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> colors_ranked,</span>
<span id="cb6-174"><a href="#cb6-174" aria-hidden="true" tabindex="-1"></a>    <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'black'</span>, <span class="at">width =</span> <span class="dv">1</span>)  <span class="co"># Add thin black border</span></span>
<span id="cb6-175"><a href="#cb6-175" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb6-176"><a href="#cb6-176" aria-hidden="true" tabindex="-1"></a>  <span class="at">hoverinfo =</span> <span class="st">'text'</span>,                        <span class="co"># Only display hover text</span></span>
<span id="cb6-177"><a href="#cb6-177" aria-hidden="true" tabindex="-1"></a>  <span class="at">text =</span> <span class="sc">~</span><span class="fu">paste0</span>(<span class="st">"Title: "</span>, title, <span class="st">"&lt;br&gt;Year: "</span>, year, <span class="st">"&lt;br&gt;Citations: "</span>, cites),</span>
<span id="cb6-178"><a href="#cb6-178" aria-hidden="true" tabindex="-1"></a>  <span class="at">textfont =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">0</span>)                  <span class="co"># No bar labels displayed</span></span>
<span id="cb6-179"><a href="#cb6-179" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb6-180"><a href="#cb6-180" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(</span>
<span id="cb6-181"><a href="#cb6-181" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="cn">NULL</span>,</span>
<span id="cb6-182"><a href="#cb6-182" aria-hidden="true" tabindex="-1"></a>    <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Publication Rank"</span>),</span>
<span id="cb6-183"><a href="#cb6-183" aria-hidden="true" tabindex="-1"></a>    <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Cumulative Citations"</span>),</span>
<span id="cb6-184"><a href="#cb6-184" aria-hidden="true" tabindex="-1"></a>    <span class="at">showlegend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb6-185"><a href="#cb6-185" aria-hidden="true" tabindex="-1"></a>    <span class="at">shapes =</span> <span class="fu">list</span>(</span>
<span id="cb6-186"><a href="#cb6-186" aria-hidden="true" tabindex="-1"></a>      <span class="fu">list</span>(</span>
<span id="cb6-187"><a href="#cb6-187" aria-hidden="true" tabindex="-1"></a>        <span class="at">type =</span> <span class="st">'line'</span>,</span>
<span id="cb6-188"><a href="#cb6-188" aria-hidden="true" tabindex="-1"></a>        <span class="at">x0 =</span> <span class="dv">0</span>,</span>
<span id="cb6-189"><a href="#cb6-189" aria-hidden="true" tabindex="-1"></a>        <span class="at">x1 =</span> <span class="dv">1</span>,</span>
<span id="cb6-190"><a href="#cb6-190" aria-hidden="true" tabindex="-1"></a>        <span class="at">xref =</span> <span class="st">'paper'</span>,</span>
<span id="cb6-191"><a href="#cb6-191" aria-hidden="true" tabindex="-1"></a>        <span class="at">y0 =</span> <span class="dv">10</span>,</span>
<span id="cb6-192"><a href="#cb6-192" aria-hidden="true" tabindex="-1"></a>        <span class="at">y1 =</span> <span class="dv">10</span>,</span>
<span id="cb6-193"><a href="#cb6-193" aria-hidden="true" tabindex="-1"></a>        <span class="at">line =</span> <span class="fu">list</span>(</span>
<span id="cb6-194"><a href="#cb6-194" aria-hidden="true" tabindex="-1"></a>          <span class="at">color =</span> <span class="st">'black'</span>,</span>
<span id="cb6-195"><a href="#cb6-195" aria-hidden="true" tabindex="-1"></a>          <span class="at">width =</span> <span class="dv">2</span>,</span>
<span id="cb6-196"><a href="#cb6-196" aria-hidden="true" tabindex="-1"></a>          <span class="at">dash =</span> <span class="st">'dot'</span></span>
<span id="cb6-197"><a href="#cb6-197" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb6-198"><a href="#cb6-198" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb6-199"><a href="#cb6-199" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb6-200"><a href="#cb6-200" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb6-201"><a href="#cb6-201" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-202"><a href="#cb6-202" aria-hidden="true" tabindex="-1"></a><span class="do">###### Plot 3 Cumulative citations</span></span>
<span id="cb6-203"><a href="#cb6-203" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-204"><a href="#cb6-204" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate Spectral palette for cumulative citations</span></span>
<span id="cb6-205"><a href="#cb6-205" aria-hidden="true" tabindex="-1"></a>num_years2 <span class="ot">&lt;-</span> <span class="fu">nrow</span>(cumulative_citations)</span>
<span id="cb6-206"><a href="#cb6-206" aria-hidden="true" tabindex="-1"></a>colors2 <span class="ot">&lt;-</span> <span class="fu">colorRampPalette</span>((<span class="fu">brewer.pal</span>(<span class="dv">11</span>, <span class="st">"RdBu"</span>)))(num_years2)</span>
<span id="cb6-207"><a href="#cb6-207" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-208"><a href="#cb6-208" aria-hidden="true" tabindex="-1"></a>citations_plot <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(</span>
<span id="cb6-209"><a href="#cb6-209" aria-hidden="true" tabindex="-1"></a>  cumulative_citations,</span>
<span id="cb6-210"><a href="#cb6-210" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="sc">~</span>year,</span>
<span id="cb6-211"><a href="#cb6-211" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="sc">~</span>cumulative_cites,</span>
<span id="cb6-212"><a href="#cb6-212" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">'scatter'</span>,</span>
<span id="cb6-213"><a href="#cb6-213" aria-hidden="true" tabindex="-1"></a>  <span class="at">mode =</span> <span class="st">'lines+markers'</span>,</span>
<span id="cb6-214"><a href="#cb6-214" aria-hidden="true" tabindex="-1"></a>  <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'black'</span>, <span class="at">width =</span> <span class="dv">1</span>),  <span class="co"># Narrow black line</span></span>
<span id="cb6-215"><a href="#cb6-215" aria-hidden="true" tabindex="-1"></a>   <span class="at">marker =</span> <span class="fu">list</span>(</span>
<span id="cb6-216"><a href="#cb6-216" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> colors2,</span>
<span id="cb6-217"><a href="#cb6-217" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">9</span>,       </span>
<span id="cb6-218"><a href="#cb6-218" aria-hidden="true" tabindex="-1"></a>    <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'black'</span>, <span class="at">width =</span> <span class="dv">1</span>)  <span class="co"># Add thin black border</span></span>
<span id="cb6-219"><a href="#cb6-219" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb6-220"><a href="#cb6-220" aria-hidden="true" tabindex="-1"></a>  <span class="at">hoverinfo =</span> <span class="st">'text'</span>,</span>
<span id="cb6-221"><a href="#cb6-221" aria-hidden="true" tabindex="-1"></a>  <span class="at">text =</span> <span class="sc">~</span><span class="fu">paste0</span>(<span class="st">"Year: "</span>, year, <span class="st">"&lt;br&gt;Cumulative Citations: "</span>, cumulative_cites)</span>
<span id="cb6-222"><a href="#cb6-222" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb6-223"><a href="#cb6-223" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(</span>
<span id="cb6-224"><a href="#cb6-224" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">""</span>,</span>
<span id="cb6-225"><a href="#cb6-225" aria-hidden="true" tabindex="-1"></a>    <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Year"</span>),</span>
<span id="cb6-226"><a href="#cb6-226" aria-hidden="true" tabindex="-1"></a>    <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Cumulative Citations"</span>),</span>
<span id="cb6-227"><a href="#cb6-227" aria-hidden="true" tabindex="-1"></a>    <span class="at">showlegend =</span> <span class="cn">FALSE</span></span>
<span id="cb6-228"><a href="#cb6-228" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb6-229"><a href="#cb6-229" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb6-230"><a href="#cb6-230" aria-hidden="true" tabindex="-1"></a><span class="co"># # Step 6: Display all three plots in a multi-panel layout</span></span>
<span id="cb6-231"><a href="#cb6-231" aria-hidden="true" tabindex="-1"></a><span class="co"># subplot(</span></span>
<span id="cb6-232"><a href="#cb6-232" aria-hidden="true" tabindex="-1"></a><span class="co">#   pubs_plot, rank_plot, citations_plot,</span></span>
<span id="cb6-233"><a href="#cb6-233" aria-hidden="true" tabindex="-1"></a><span class="co">#   nrows = 1,</span></span>
<span id="cb6-234"><a href="#cb6-234" aria-hidden="true" tabindex="-1"></a><span class="co">#   titleX = TRUE,</span></span>
<span id="cb6-235"><a href="#cb6-235" aria-hidden="true" tabindex="-1"></a><span class="co">#   titleY = TRUE,</span></span>
<span id="cb6-236"><a href="#cb6-236" aria-hidden="true" tabindex="-1"></a><span class="co">#   widths = c(0.3, 0.3, 0.3),  # Adjust plot widths if necessary</span></span>
<span id="cb6-237"><a href="#cb6-237" aria-hidden="true" tabindex="-1"></a><span class="co">#   margin = 0.04               # Set spacing between each plot</span></span>
<span id="cb6-238"><a href="#cb6-238" aria-hidden="true" tabindex="-1"></a><span class="co"># ) %&gt;%</span></span>
<span id="cb6-239"><a href="#cb6-239" aria-hidden="true" tabindex="-1"></a><span class="co"># layout(</span></span>
<span id="cb6-240"><a href="#cb6-240" aria-hidden="true" tabindex="-1"></a><span class="co">#   xaxis = list(title = "Year / Rank", domain = c(0, 0.3), titlefont = list(size = 9), tickfont = list(size = 9)),</span></span>
<span id="cb6-241"><a href="#cb6-241" aria-hidden="true" tabindex="-1"></a><span class="co">#   xaxis2 = list(title = "Rank", domain = c(0.35, 0.65), titlefont = list(size = 9), tickfont = list(size = 9)),</span></span>
<span id="cb6-242"><a href="#cb6-242" aria-hidden="true" tabindex="-1"></a><span class="co">#   xaxis3 = list(title = "Citations", domain = c(0.7, 1), titlefont = list(size = 9), tickfont = list(size = 9)),</span></span>
<span id="cb6-243"><a href="#cb6-243" aria-hidden="true" tabindex="-1"></a><span class="co">#   yaxis = list(titlefont = list(size = 9), tickfont = list(size = 9)),</span></span>
<span id="cb6-244"><a href="#cb6-244" aria-hidden="true" tabindex="-1"></a><span class="co">#   yaxis2 = list(titlefont = list(size = 9), tickfont = list(size = 9)),</span></span>
<span id="cb6-245"><a href="#cb6-245" aria-hidden="true" tabindex="-1"></a><span class="co">#   yaxis3 = list(titlefont = list(size = 9), tickfont = list(size = 9)),</span></span>
<span id="cb6-246"><a href="#cb6-246" aria-hidden="true" tabindex="-1"></a><span class="co">#   #uniformtext = list(minsize = 6, mode = 'show'),</span></span>
<span id="cb6-247"><a href="#cb6-247" aria-hidden="true" tabindex="-1"></a><span class="co">#   margin = list(l = 50, r = 50, t = 50, b = 50, pad = 5)</span></span>
<span id="cb6-248"><a href="#cb6-248" aria-hidden="true" tabindex="-1"></a><span class="co"># )</span></span>
<span id="cb6-249"><a href="#cb6-249" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-250"><a href="#cb6-250" aria-hidden="true" tabindex="-1"></a><span class="fu">subplot</span>(</span>
<span id="cb6-251"><a href="#cb6-251" aria-hidden="true" tabindex="-1"></a>  pubs_plot, citations_plot, rank_plot,</span>
<span id="cb6-252"><a href="#cb6-252" aria-hidden="true" tabindex="-1"></a>  <span class="at">nrows =</span> <span class="dv">3</span>,</span>
<span id="cb6-253"><a href="#cb6-253" aria-hidden="true" tabindex="-1"></a>  <span class="at">titleX =</span> <span class="cn">TRUE</span>,</span>
<span id="cb6-254"><a href="#cb6-254" aria-hidden="true" tabindex="-1"></a>  <span class="at">titleY =</span> <span class="cn">TRUE</span>,</span>
<span id="cb6-255"><a href="#cb6-255" aria-hidden="true" tabindex="-1"></a>  <span class="at">margin =</span> <span class="fl">0.04</span></span>
<span id="cb6-256"><a href="#cb6-256" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb6-257"><a href="#cb6-257" aria-hidden="true" tabindex="-1"></a><span class="fu">layout</span>(</span>
<span id="cb6-258"><a href="#cb6-258" aria-hidden="true" tabindex="-1"></a>  <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Year / Rank"</span>, <span class="at">titlefont =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">9</span>), <span class="at">tickfont =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">9</span>)),</span>
<span id="cb6-259"><a href="#cb6-259" aria-hidden="true" tabindex="-1"></a>  <span class="at">xaxis2 =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Rank"</span>, <span class="at">titlefont =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">9</span>), <span class="at">tickfont =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">9</span>)),</span>
<span id="cb6-260"><a href="#cb6-260" aria-hidden="true" tabindex="-1"></a>  <span class="at">xaxis3 =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Citations"</span>, <span class="at">titlefont =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">9</span>), <span class="at">tickfont =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">9</span>)),</span>
<span id="cb6-261"><a href="#cb6-261" aria-hidden="true" tabindex="-1"></a>  <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">titlefont =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">9</span>), <span class="at">tickfont =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">9</span>)),</span>
<span id="cb6-262"><a href="#cb6-262" aria-hidden="true" tabindex="-1"></a>  <span class="at">yaxis2 =</span> <span class="fu">list</span>(<span class="at">titlefont =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">9</span>), <span class="at">tickfont =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">9</span>)),</span>
<span id="cb6-263"><a href="#cb6-263" aria-hidden="true" tabindex="-1"></a>  <span class="at">yaxis3 =</span> <span class="fu">list</span>(<span class="at">titlefont =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">9</span>), <span class="at">tickfont =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">9</span>)),</span>
<span id="cb6-264"><a href="#cb6-264" aria-hidden="true" tabindex="-1"></a>  <span class="at">margin =</span> <span class="fu">list</span>(<span class="at">l =</span> <span class="dv">50</span>, <span class="at">r =</span> <span class="dv">50</span>, <span class="at">t =</span> <span class="dv">50</span>, <span class="at">b =</span> <span class="dv">50</span>, <span class="at">pad =</span> <span class="dv">5</span>)</span>
<span id="cb6-265"><a href="#cb6-265" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb6-266"><a href="#cb6-266" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-267"><a href="#cb6-267" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb6-268"><a href="#cb6-268" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-269"><a href="#cb6-269" aria-hidden="true" tabindex="-1"></a><span class="fu">### Publication journals</span></span>
<span id="cb6-270"><a href="#cb6-270" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-273"><a href="#cb6-273" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb6-274"><a href="#cb6-274" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb6-275"><a href="#cb6-275" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb6-276"><a href="#cb6-276" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 8</span></span>
<span id="cb6-277"><a href="#cb6-277" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 10</span></span>
<span id="cb6-278"><a href="#cb6-278" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-279"><a href="#cb6-279" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(wordcloud)</span>
<span id="cb6-280"><a href="#cb6-280" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(grid)</span>
<span id="cb6-281"><a href="#cb6-281" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(cowplot)</span>
<span id="cb6-282"><a href="#cb6-282" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gridGraphics)</span>
<span id="cb6-283"><a href="#cb6-283" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(png)</span>
<span id="cb6-284"><a href="#cb6-284" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gtable)</span>
<span id="cb6-285"><a href="#cb6-285" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-286"><a href="#cb6-286" aria-hidden="true" tabindex="-1"></a><span class="co"># Define keyword lookup</span></span>
<span id="cb6-287"><a href="#cb6-287" aria-hidden="true" tabindex="-1"></a>subject_keywords <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb6-288"><a href="#cb6-288" aria-hidden="true" tabindex="-1"></a>  <span class="at">Ecology =</span> <span class="fu">c</span>(<span class="st">"ecology"</span>, <span class="st">"oikos"</span>, <span class="st">"oecologia"</span>, <span class="st">"ecological"</span>, <span class="st">"Ecosystems"</span>),</span>
<span id="cb6-289"><a href="#cb6-289" aria-hidden="true" tabindex="-1"></a>  <span class="at">MarineBiology =</span> <span class="fu">c</span>(<span class="st">"coral reefs"</span>, <span class="st">"marine biology"</span>, <span class="st">"PLoS ONE"</span>, <span class="st">"proceedings"</span>, <span class="st">"Scientific"</span>, <span class="st">"Fish"</span>, <span class="st">"total"</span>, <span class="st">"Oceanography"</span>, <span class="st">"sharks"</span>),</span>
<span id="cb6-290"><a href="#cb6-290" aria-hidden="true" tabindex="-1"></a>  <span class="at">Geology =</span> <span class="fu">c</span>(<span class="st">"palaeo"</span>,  <span class="st">"geology"</span>, <span class="st">"earth"</span>, <span class="st">"Quaternary"</span>, <span class="st">"Paleoceanography"</span>),</span>
<span id="cb6-291"><a href="#cb6-291" aria-hidden="true" tabindex="-1"></a>  <span class="at">Microbiology =</span> <span class="fu">c</span>(<span class="st">"microbiology"</span>, <span class="st">"Molecular"</span>, <span class="st">"isme"</span>),</span>
<span id="cb6-292"><a href="#cb6-292" aria-hidden="true" tabindex="-1"></a>  <span class="at">Climate =</span> <span class="fu">c</span>(<span class="st">"National"</span>, <span class="st">"Open"</span>, <span class="st">"Climate"</span>, <span class="st">"bioRxiv"</span>),</span>
<span id="cb6-293"><a href="#cb6-293" aria-hidden="true" tabindex="-1"></a>  <span class="at">Geochemistry =</span> <span class="fu">c</span>(<span class="st">"geochem"</span>, <span class="st">"Geophysical"</span>, <span class="st">"Geochronology"</span>, <span class="st">"Geochimica"</span>, <span class="st">"Biogeosciences"</span>),</span>
<span id="cb6-294"><a href="#cb6-294" aria-hidden="true" tabindex="-1"></a>  <span class="at">Conservation =</span> <span class="fu">c</span>(<span class="st">"pollution"</span>, <span class="st">"peer"</span>, <span class="st">"global"</span>, <span class="st">"conservation"</span>,<span class="st">"Communications"</span>, <span class="st">"endangered"</span>, <span class="st">"Biology"</span>),</span>
<span id="cb6-295"><a href="#cb6-295" aria-hidden="true" tabindex="-1"></a>  <span class="at">Evolution =</span> <span class="fu">c</span>(<span class="st">"bioscience"</span>, <span class="st">"Biogeography"</span>)</span>
<span id="cb6-296"><a href="#cb6-296" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb6-297"><a href="#cb6-297" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-298"><a href="#cb6-298" aria-hidden="true" tabindex="-1"></a><span class="co"># Assign subject(s)</span></span>
<span id="cb6-299"><a href="#cb6-299" aria-hidden="true" tabindex="-1"></a>journal_subjects <span class="ot">&lt;-</span> scholar_output_prepped <span class="sc">%&gt;%</span></span>
<span id="cb6-300"><a href="#cb6-300" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb6-301"><a href="#cb6-301" aria-hidden="true" tabindex="-1"></a>    <span class="at">subject =</span> <span class="fu">sapply</span>(Journal, <span class="cf">function</span>(j) {</span>
<span id="cb6-302"><a href="#cb6-302" aria-hidden="true" tabindex="-1"></a>      matches <span class="ot">&lt;-</span> <span class="fu">names</span>(subject_keywords)[</span>
<span id="cb6-303"><a href="#cb6-303" aria-hidden="true" tabindex="-1"></a>        <span class="fu">sapply</span>(subject_keywords, <span class="cf">function</span>(keywords) {</span>
<span id="cb6-304"><a href="#cb6-304" aria-hidden="true" tabindex="-1"></a>          <span class="fu">any</span>(<span class="fu">grepl</span>(<span class="fu">paste</span>(keywords, <span class="at">collapse =</span> <span class="st">"|"</span>), j, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>))</span>
<span id="cb6-305"><a href="#cb6-305" aria-hidden="true" tabindex="-1"></a>        })</span>
<span id="cb6-306"><a href="#cb6-306" aria-hidden="true" tabindex="-1"></a>      ]</span>
<span id="cb6-307"><a href="#cb6-307" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste</span>(matches, <span class="at">collapse =</span> <span class="st">";"</span>)</span>
<span id="cb6-308"><a href="#cb6-308" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb6-309"><a href="#cb6-309" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb6-310"><a href="#cb6-310" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-311"><a href="#cb6-311" aria-hidden="true" tabindex="-1"></a><span class="co"># Count frequency of each journal per subject</span></span>
<span id="cb6-312"><a href="#cb6-312" aria-hidden="true" tabindex="-1"></a>subject_freq <span class="ot">&lt;-</span> journal_subjects <span class="sc">%&gt;%</span></span>
<span id="cb6-313"><a href="#cb6-313" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(subject <span class="sc">!=</span> <span class="st">""</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-314"><a href="#cb6-314" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate_rows</span>(subject, <span class="at">sep =</span> <span class="st">";"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-315"><a href="#cb6-315" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(subject, Journal) <span class="sc">%&gt;%</span></span>
<span id="cb6-316"><a href="#cb6-316" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-317"><a href="#cb6-317" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(subject, <span class="fu">desc</span>(n)) <span class="sc">%&gt;%</span></span>
<span id="cb6-318"><a href="#cb6-318" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">freq_scaled =</span> <span class="fu">log1p</span>(n))</span>
<span id="cb6-319"><a href="#cb6-319" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-320"><a href="#cb6-320" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-321"><a href="#cb6-321" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb6-322"><a href="#cb6-322" aria-hidden="true" tabindex="-1"></a><span class="fu">wordcloud</span>(</span>
<span id="cb6-323"><a href="#cb6-323" aria-hidden="true" tabindex="-1"></a>  <span class="at">words =</span> subject_freq<span class="sc">$</span>Journal,</span>
<span id="cb6-324"><a href="#cb6-324" aria-hidden="true" tabindex="-1"></a>  <span class="at">freq =</span> subject_freq<span class="sc">$</span>n,</span>
<span id="cb6-325"><a href="#cb6-325" aria-hidden="true" tabindex="-1"></a>  <span class="at">min.freq =</span> <span class="dv">1</span>,</span>
<span id="cb6-326"><a href="#cb6-326" aria-hidden="true" tabindex="-1"></a>  <span class="at">max.words =</span> <span class="cn">Inf</span>,</span>
<span id="cb6-327"><a href="#cb6-327" aria-hidden="true" tabindex="-1"></a>  <span class="at">color=</span><span class="st">"#202020"</span>,</span>
<span id="cb6-328"><a href="#cb6-328" aria-hidden="true" tabindex="-1"></a> <span class="co"># colors = brewer.pal(4, "Spectral"),</span></span>
<span id="cb6-329"><a href="#cb6-329" aria-hidden="true" tabindex="-1"></a>  <span class="at">scale =</span> <span class="fu">c</span>(<span class="dv">5</span>,<span class="fl">0.5</span>),</span>
<span id="cb6-330"><a href="#cb6-330" aria-hidden="true" tabindex="-1"></a>  <span class="at">random.order =</span> <span class="cn">FALSE</span>,</span>
<span id="cb6-331"><a href="#cb6-331" aria-hidden="true" tabindex="-1"></a>  <span class="at">use.r.layout =</span> <span class="cn">TRUE</span>,</span>
<span id="cb6-332"><a href="#cb6-332" aria-hidden="true" tabindex="-1"></a>  <span class="at">rot.per=</span><span class="fl">0.3</span></span>
<span id="cb6-333"><a href="#cb6-333" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb6-334"><a href="#cb6-334" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="cn">NULL</span>)</span>
<span id="cb6-335"><a href="#cb6-335" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-336"><a href="#cb6-336" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-337"><a href="#cb6-337" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-338"><a href="#cb6-338" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-339"><a href="#cb6-339" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-340"><a href="#cb6-340" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb6-341"><a href="#cb6-341" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-342"><a href="#cb6-342" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-343"><a href="#cb6-343" aria-hidden="true" tabindex="-1"></a><span class="fu"># Selected publications</span></span>
<span id="cb6-344"><a href="#cb6-344" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-347"><a href="#cb6-347" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb6-348"><a href="#cb6-348" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb6-349"><a href="#cb6-349" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb6-350"><a href="#cb6-350" aria-hidden="true" tabindex="-1"></a><span class="co">#| cache: true</span></span>
<span id="cb6-351"><a href="#cb6-351" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 8</span></span>
<span id="cb6-352"><a href="#cb6-352" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 12</span></span>
<span id="cb6-353"><a href="#cb6-353" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-354"><a href="#cb6-354" aria-hidden="true" tabindex="-1"></a><span class="do">## All publications to bib</span></span>
<span id="cb6-355"><a href="#cb6-355" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert to BibTeX format</span></span>
<span id="cb6-356"><a href="#cb6-356" aria-hidden="true" tabindex="-1"></a>scholar_bib <span class="ot">&lt;-</span> scholar_output <span class="sc">%&gt;%</span></span>
<span id="cb6-357"><a href="#cb6-357" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb6-358"><a href="#cb6-358" aria-hidden="true" tabindex="-1"></a>    <span class="at">bibtex_entry =</span> <span class="fu">paste0</span>(</span>
<span id="cb6-359"><a href="#cb6-359" aria-hidden="true" tabindex="-1"></a>      <span class="st">"@article{"</span>, pubid, <span class="st">",</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb6-360"><a href="#cb6-360" aria-hidden="true" tabindex="-1"></a>      <span class="st">"  title = {"</span>, title, <span class="st">"},</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb6-361"><a href="#cb6-361" aria-hidden="true" tabindex="-1"></a>      <span class="st">"  author = {"</span>, author, <span class="st">"},</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb6-362"><a href="#cb6-362" aria-hidden="true" tabindex="-1"></a>      <span class="st">"  journal = {"</span>, journal, <span class="st">"},</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb6-363"><a href="#cb6-363" aria-hidden="true" tabindex="-1"></a>      <span class="st">"  year = {"</span>, year, <span class="st">"},</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb6-364"><a href="#cb6-364" aria-hidden="true" tabindex="-1"></a>      <span class="st">"  volume = {"</span>, <span class="fu">sub</span>(<span class="st">" </span><span class="sc">\\</span><span class="st">(.*"</span>, <span class="st">""</span>, number), <span class="st">"},</span><span class="sc">\n</span><span class="st">"</span>, <span class="co"># Extract volume before '('</span></span>
<span id="cb6-365"><a href="#cb6-365" aria-hidden="true" tabindex="-1"></a>      <span class="st">"  number = {"</span>, <span class="fu">sub</span>(<span class="st">".*</span><span class="sc">\\</span><span class="st">((.*)</span><span class="sc">\\</span><span class="st">).*"</span>, <span class="st">"</span><span class="sc">\\</span><span class="st">1"</span>, number), <span class="st">"},</span><span class="sc">\n</span><span class="st">"</span>, <span class="co"># Extract issue inside '()'</span></span>
<span id="cb6-366"><a href="#cb6-366" aria-hidden="true" tabindex="-1"></a>      <span class="st">"  pages = {"</span>, cites, <span class="st">"},</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb6-367"><a href="#cb6-367" aria-hidden="true" tabindex="-1"></a>      <span class="st">"  cid = {"</span>, cid, <span class="st">"},</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb6-368"><a href="#cb6-368" aria-hidden="true" tabindex="-1"></a>      <span class="st">"  pubid = {"</span>, pubid, <span class="st">"}</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb6-369"><a href="#cb6-369" aria-hidden="true" tabindex="-1"></a>      <span class="st">"}"</span></span>
<span id="cb6-370"><a href="#cb6-370" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb6-371"><a href="#cb6-371" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb6-372"><a href="#cb6-372" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(bibtex_entry)</span>
<span id="cb6-373"><a href="#cb6-373" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-374"><a href="#cb6-374" aria-hidden="true" tabindex="-1"></a><span class="co">#writeLines(scholar_bib, "scholar_output.bib")</span></span>
<span id="cb6-375"><a href="#cb6-375" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-376"><a href="#cb6-376" aria-hidden="true" tabindex="-1"></a><span class="do">## select publications to bib</span></span>
<span id="cb6-377"><a href="#cb6-377" aria-hidden="true" tabindex="-1"></a>search_terms <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Global disparity"</span>, <span class="st">"sharks on coral reefs"</span>, <span class="st">"evolutionary history"</span>, <span class="st">"seascapes"</span>, <span class="st">"decline of branching"</span>, <span class="st">"decoupled in Holocene"</span>)</span>
<span id="cb6-378"><a href="#cb6-378" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-379"><a href="#cb6-379" aria-hidden="true" tabindex="-1"></a>scholar_bib <span class="ot">&lt;-</span> scholar_output <span class="sc">%&gt;%</span></span>
<span id="cb6-380"><a href="#cb6-380" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">sapply</span>(title, <span class="cf">function</span>(x) <span class="fu">any</span>(<span class="fu">grepl</span>(<span class="fu">paste</span>(search_terms, <span class="at">collapse =</span> <span class="st">"|"</span>), x, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>)))) <span class="sc">|&gt;</span> </span>
<span id="cb6-381"><a href="#cb6-381" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb6-382"><a href="#cb6-382" aria-hidden="true" tabindex="-1"></a>    <span class="at">bibtex_entry =</span> <span class="fu">paste0</span>(</span>
<span id="cb6-383"><a href="#cb6-383" aria-hidden="true" tabindex="-1"></a>      <span class="st">"@article{"</span>, pubid, <span class="st">",</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb6-384"><a href="#cb6-384" aria-hidden="true" tabindex="-1"></a>      <span class="st">"  title = {"</span>, title, <span class="st">"},</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb6-385"><a href="#cb6-385" aria-hidden="true" tabindex="-1"></a>      <span class="st">"  author = {"</span>, author, <span class="st">"},</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb6-386"><a href="#cb6-386" aria-hidden="true" tabindex="-1"></a>      <span class="st">"  journal = {"</span>, journal, <span class="st">"},</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb6-387"><a href="#cb6-387" aria-hidden="true" tabindex="-1"></a>      <span class="st">"  year = {"</span>, year, <span class="st">"},</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb6-388"><a href="#cb6-388" aria-hidden="true" tabindex="-1"></a>      <span class="st">"  volume = {"</span>, <span class="fu">sub</span>(<span class="st">" </span><span class="sc">\\</span><span class="st">(.*"</span>, <span class="st">""</span>, number), <span class="st">"},</span><span class="sc">\n</span><span class="st">"</span>, <span class="co"># Extract volume before '('</span></span>
<span id="cb6-389"><a href="#cb6-389" aria-hidden="true" tabindex="-1"></a>      <span class="st">"  number = {"</span>, <span class="fu">sub</span>(<span class="st">".*</span><span class="sc">\\</span><span class="st">((.*)</span><span class="sc">\\</span><span class="st">).*"</span>, <span class="st">"</span><span class="sc">\\</span><span class="st">1"</span>, number), <span class="st">"},</span><span class="sc">\n</span><span class="st">"</span>, <span class="co"># Extract issue inside '()'</span></span>
<span id="cb6-390"><a href="#cb6-390" aria-hidden="true" tabindex="-1"></a>      <span class="st">"  pages = {"</span>, cites, <span class="st">"},</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb6-391"><a href="#cb6-391" aria-hidden="true" tabindex="-1"></a>      <span class="st">"  cid = {"</span>, cid, <span class="st">"},</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb6-392"><a href="#cb6-392" aria-hidden="true" tabindex="-1"></a>      <span class="st">"  pubid = {"</span>, pubid, <span class="st">"}</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb6-393"><a href="#cb6-393" aria-hidden="true" tabindex="-1"></a>      <span class="st">"}"</span></span>
<span id="cb6-394"><a href="#cb6-394" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb6-395"><a href="#cb6-395" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb6-396"><a href="#cb6-396" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(bibtex_entry)</span>
<span id="cb6-397"><a href="#cb6-397" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-398"><a href="#cb6-398" aria-hidden="true" tabindex="-1"></a><span class="fu">writeLines</span>(scholar_bib, <span class="st">"select_scholar_output.bib"</span>)</span>
<span id="cb6-399"><a href="#cb6-399" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-400"><a href="#cb6-400" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to lighten a vector of colors</span></span>
<span id="cb6-401"><a href="#cb6-401" aria-hidden="true" tabindex="-1"></a>lighten_colors <span class="ot">&lt;-</span> <span class="cf">function</span>(colors, <span class="at">factor =</span> <span class="fl">0.5</span>) {</span>
<span id="cb6-402"><a href="#cb6-402" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (factor <span class="sc">&lt;</span> <span class="dv">0</span> <span class="sc">||</span> factor <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="fu">stop</span>(<span class="st">"Factor must be between 0 and 1"</span>)</span>
<span id="cb6-403"><a href="#cb6-403" aria-hidden="true" tabindex="-1"></a>  <span class="fu">col2rgb</span>(colors) <span class="sc">%&gt;%</span></span>
<span id="cb6-404"><a href="#cb6-404" aria-hidden="true" tabindex="-1"></a>    <span class="fu">t</span>() <span class="sc">%&gt;%</span></span>
<span id="cb6-405"><a href="#cb6-405" aria-hidden="true" tabindex="-1"></a>    <span class="fu">apply</span>(<span class="dv">1</span>, <span class="cf">function</span>(col) {</span>
<span id="cb6-406"><a href="#cb6-406" aria-hidden="true" tabindex="-1"></a>      <span class="fu">rgb</span>(</span>
<span id="cb6-407"><a href="#cb6-407" aria-hidden="true" tabindex="-1"></a>        <span class="at">red =</span> col[<span class="dv">1</span>] <span class="sc">+</span> (<span class="dv">255</span> <span class="sc">-</span> col[<span class="dv">1</span>]) <span class="sc">*</span> factor,</span>
<span id="cb6-408"><a href="#cb6-408" aria-hidden="true" tabindex="-1"></a>        <span class="at">green =</span> col[<span class="dv">2</span>] <span class="sc">+</span> (<span class="dv">255</span> <span class="sc">-</span> col[<span class="dv">2</span>]) <span class="sc">*</span> factor,</span>
<span id="cb6-409"><a href="#cb6-409" aria-hidden="true" tabindex="-1"></a>        <span class="at">blue =</span> col[<span class="dv">3</span>] <span class="sc">+</span> (<span class="dv">255</span> <span class="sc">-</span> col[<span class="dv">3</span>]) <span class="sc">*</span> factor,</span>
<span id="cb6-410"><a href="#cb6-410" aria-hidden="true" tabindex="-1"></a>        <span class="at">maxColorValue =</span> <span class="dv">255</span></span>
<span id="cb6-411"><a href="#cb6-411" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb6-412"><a href="#cb6-412" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb6-413"><a href="#cb6-413" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb6-414"><a href="#cb6-414" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-415"><a href="#cb6-415" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-416"><a href="#cb6-416" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-417"><a href="#cb6-417" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-418"><a href="#cb6-418" aria-hidden="true" tabindex="-1"></a>pubs_per_year <span class="ot">&lt;-</span> scholar_output <span class="sc">%&gt;%</span></span>
<span id="cb6-419"><a href="#cb6-419" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span></span>
<span id="cb6-420"><a href="#cb6-420" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">publications =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">'drop'</span>)</span>
<span id="cb6-421"><a href="#cb6-421" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-422"><a href="#cb6-422" aria-hidden="true" tabindex="-1"></a>scholar_output_prepped <span class="ot">&lt;-</span> scholar_output <span class="sc">%&gt;%</span></span>
<span id="cb6-423"><a href="#cb6-423" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb6-424"><a href="#cb6-424" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(year), cites) <span class="sc">%&gt;%</span></span>
<span id="cb6-425"><a href="#cb6-425" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb6-426"><a href="#cb6-426" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">seq</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(.)),</span>
<span id="cb6-427"><a href="#cb6-427" aria-hidden="true" tabindex="-1"></a>    <span class="at">author =</span> <span class="fu">gsub</span>(<span class="st">"(G Roff)"</span>, <span class="st">"&lt;b&gt;</span><span class="sc">\\</span><span class="st">1&lt;/b&gt;"</span>, author, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>),  <span class="co"># Use HTML for bold formatting</span></span>
<span id="cb6-428"><a href="#cb6-428" aria-hidden="true" tabindex="-1"></a>    <span class="at">cites =</span> <span class="fu">as.numeric</span>(cites)  <span class="co"># Ensure cites is numeric</span></span>
<span id="cb6-429"><a href="#cb6-429" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb6-430"><a href="#cb6-430" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(n, author, year, title, journal, number, cites) <span class="sc">%&gt;%</span></span>
<span id="cb6-431"><a href="#cb6-431" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb6-432"><a href="#cb6-432" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Year"</span> <span class="ot">=</span> <span class="st">"year"</span>,</span>
<span id="cb6-433"><a href="#cb6-433" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Authors"</span> <span class="ot">=</span> <span class="st">"author"</span>,</span>
<span id="cb6-434"><a href="#cb6-434" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Journal"</span> <span class="ot">=</span> <span class="st">"journal"</span>,</span>
<span id="cb6-435"><a href="#cb6-435" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Issue/Number"</span> <span class="ot">=</span> <span class="st">"number"</span>,</span>
<span id="cb6-436"><a href="#cb6-436" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Citations"</span> <span class="ot">=</span> <span class="st">"cites"</span></span>
<span id="cb6-437"><a href="#cb6-437" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb6-438"><a href="#cb6-438" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-439"><a href="#cb6-439" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-440"><a href="#cb6-440" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-441"><a href="#cb6-441" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate colors using RColorBrewer with adjusted alpha</span></span>
<span id="cb6-442"><a href="#cb6-442" aria-hidden="true" tabindex="-1"></a>num_colors <span class="ot">&lt;-</span> <span class="fu">nrow</span>(scholar_output_prepped)</span>
<span id="cb6-443"><a href="#cb6-443" aria-hidden="true" tabindex="-1"></a>color_palette <span class="ot">&lt;-</span> <span class="fu">colorRampPalette</span>(<span class="fu">rev</span>(RColorBrewer<span class="sc">::</span><span class="fu">brewer.pal</span>(<span class="dv">9</span>, <span class="st">"RdYlBu"</span>)))(num_colors)</span>
<span id="cb6-444"><a href="#cb6-444" aria-hidden="true" tabindex="-1"></a>color_palette <span class="ot">&lt;-</span> <span class="fu">lighten_colors</span>(color_palette, <span class="at">factor =</span> <span class="fl">0.4</span>)  <span class="co"># Set alpha to 0.7</span></span>
<span id="cb6-445"><a href="#cb6-445" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-446"><a href="#cb6-446" aria-hidden="true" tabindex="-1"></a><span class="co"># Map colors to the Citations column</span></span>
<span id="cb6-447"><a href="#cb6-447" aria-hidden="true" tabindex="-1"></a>scholar_output_prepped <span class="ot">&lt;-</span> scholar_output_prepped <span class="sc">%&gt;%</span></span>
<span id="cb6-448"><a href="#cb6-448" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">filter</span>(<span class="fu">grepl</span>(<span class="st">"Palaeoecological evidence"</span>, title) <span class="sc">|</span> </span>
<span id="cb6-449"><a href="#cb6-449" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">grepl</span>(<span class="st">"Global disparity"</span>, title) <span class="sc">|</span></span>
<span id="cb6-450"><a href="#cb6-450" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">grepl</span>(<span class="st">"Decadal‐scale rates of reef erosion"</span>, title) <span class="sc">|</span></span>
<span id="cb6-451"><a href="#cb6-451" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">grepl</span>(<span class="st">"Seascape"</span>, title) <span class="sc">|</span></span>
<span id="cb6-452"><a href="#cb6-452" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">grepl</span>(<span class="st">"Rapid accretion of inshore reef"</span>, title) <span class="sc">|</span></span>
<span id="cb6-453"><a href="#cb6-453" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">grepl</span>(<span class="st">"Reassessing Shark-Driven Trophic"</span>, title) <span class="sc">|</span></span>
<span id="cb6-454"><a href="#cb6-454" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">grepl</span>(<span class="st">"Decline of coastal apex shark populations"</span>, title) <span class="sc">|</span></span>
<span id="cb6-455"><a href="#cb6-455" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">grepl</span>(<span class="st">"Reef accretion and coral growth rates"</span>, title) <span class="sc">|</span></span>
<span id="cb6-456"><a href="#cb6-456" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">grepl</span>(<span class="st">"Evolutionary history drives"</span>, title) <span class="sc">|</span></span>
<span id="cb6-457"><a href="#cb6-457" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">grepl</span>(<span class="st">"Revisiting the paradigm of shark‐driven"</span>, title) <span class="sc">|</span></span>
<span id="cb6-458"><a href="#cb6-458" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">grepl</span>(<span class="st">"Climate change impacts on mesophotic regions"</span>, title) <span class="sc">|</span></span>
<span id="cb6-459"><a href="#cb6-459" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">grepl</span>(<span class="st">"Reef accretion and coral growth rates"</span>, title) <span class="sc">|</span></span>
<span id="cb6-460"><a href="#cb6-460" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">grepl</span>(<span class="st">"Cryptic coral recruits as dormant “seed banks”"</span>, title)</span>
<span id="cb6-461"><a href="#cb6-461" aria-hidden="true" tabindex="-1"></a>                                  ) <span class="sc">|&gt;</span> </span>
<span id="cb6-462"><a href="#cb6-462" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb6-463"><a href="#cb6-463" aria-hidden="true" tabindex="-1"></a>    <span class="at">cite_color =</span> color_palette[<span class="fu">rank</span>(Citations, <span class="at">ties.method =</span> <span class="st">"first"</span>)]</span>
<span id="cb6-464"><a href="#cb6-464" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb6-465"><a href="#cb6-465" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-466"><a href="#cb6-466" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-467"><a href="#cb6-467" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(</span>
<span id="cb6-468"><a href="#cb6-468" aria-hidden="true" tabindex="-1"></a>  scholar_output_prepped <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>cite_color) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">n=</span><span class="fu">seq</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">n</span>())),</span>
<span id="cb6-469"><a href="#cb6-469" aria-hidden="true" tabindex="-1"></a>  <span class="at">escape =</span> <span class="cn">FALSE</span>,</span>
<span id="cb6-470"><a href="#cb6-470" aria-hidden="true" tabindex="-1"></a>  <span class="at">options =</span> <span class="fu">list</span>(</span>
<span id="cb6-471"><a href="#cb6-471" aria-hidden="true" tabindex="-1"></a>    <span class="at">search =</span> <span class="fu">list</span>(<span class="at">regex =</span> <span class="cn">TRUE</span>, <span class="at">caseInsensitive =</span> <span class="cn">FALSE</span>),</span>
<span id="cb6-472"><a href="#cb6-472" aria-hidden="true" tabindex="-1"></a>    <span class="at">autoWidth =</span> <span class="cn">FALSE</span>,</span>
<span id="cb6-473"><a href="#cb6-473" aria-hidden="true" tabindex="-1"></a>    <span class="at">dom =</span> <span class="st">'t&lt;"bottom"ip&gt;'</span>,</span>
<span id="cb6-474"><a href="#cb6-474" aria-hidden="true" tabindex="-1"></a>    <span class="at">pageLength =</span> <span class="dv">100</span>,</span>
<span id="cb6-475"><a href="#cb6-475" aria-hidden="true" tabindex="-1"></a>    <span class="at">columnDefs =</span> <span class="fu">list</span>(</span>
<span id="cb6-476"><a href="#cb6-476" aria-hidden="true" tabindex="-1"></a>      <span class="fu">list</span>(<span class="at">className =</span> <span class="st">'dt-center'</span>, <span class="at">targets =</span> <span class="st">"_all"</span>),</span>
<span id="cb6-477"><a href="#cb6-477" aria-hidden="true" tabindex="-1"></a>      <span class="fu">list</span>(<span class="at">width =</span> <span class="st">'10%'</span>, <span class="at">targets =</span> <span class="dv">0</span>),</span>
<span id="cb6-478"><a href="#cb6-478" aria-hidden="true" tabindex="-1"></a>      <span class="fu">list</span>(<span class="at">width =</span> <span class="st">'30%'</span>, <span class="at">targets =</span> <span class="dv">1</span>),</span>
<span id="cb6-479"><a href="#cb6-479" aria-hidden="true" tabindex="-1"></a>      <span class="fu">list</span>(<span class="at">width =</span> <span class="st">'10%'</span>, <span class="at">targets =</span> <span class="dv">2</span>),</span>
<span id="cb6-480"><a href="#cb6-480" aria-hidden="true" tabindex="-1"></a>      <span class="fu">list</span>(<span class="at">width =</span> <span class="st">'30%'</span>, <span class="at">targets =</span> <span class="dv">3</span>),</span>
<span id="cb6-481"><a href="#cb6-481" aria-hidden="true" tabindex="-1"></a>      <span class="fu">list</span>(<span class="at">width =</span> <span class="st">'10%'</span>, <span class="at">targets =</span> <span class="dv">4</span>),</span>
<span id="cb6-482"><a href="#cb6-482" aria-hidden="true" tabindex="-1"></a>      <span class="fu">list</span>(<span class="at">width =</span> <span class="st">'10%'</span>, <span class="at">targets =</span> <span class="dv">5</span>),</span>
<span id="cb6-483"><a href="#cb6-483" aria-hidden="true" tabindex="-1"></a>      <span class="fu">list</span>(<span class="at">width =</span> <span class="st">'10%'</span>, <span class="at">targets =</span> <span class="dv">6</span>)</span>
<span id="cb6-484"><a href="#cb6-484" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb6-485"><a href="#cb6-485" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb6-486"><a href="#cb6-486" aria-hidden="true" tabindex="-1"></a>  <span class="at">rownames =</span> <span class="cn">FALSE</span>,</span>
<span id="cb6-487"><a href="#cb6-487" aria-hidden="true" tabindex="-1"></a>  <span class="at">class =</span> <span class="st">"cell-border stripe"</span></span>
<span id="cb6-488"><a href="#cb6-488" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> </span>
<span id="cb6-489"><a href="#cb6-489" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatStyle</span>( <span class="st">'Citations'</span>,</span>
<span id="cb6-490"><a href="#cb6-490" aria-hidden="true" tabindex="-1"></a>  <span class="at">backgroundColor =</span> <span class="fu">styleEqual</span>(scholar_output_prepped<span class="sc">$</span>Citations, scholar_output_prepped<span class="sc">$</span>cite_color),</span>
<span id="cb6-491"><a href="#cb6-491" aria-hidden="true" tabindex="-1"></a>  <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">fontSize =</span> <span class="st">'60%'</span></span>
<span id="cb6-492"><a href="#cb6-492" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb6-493"><a href="#cb6-493" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatStyle</span>(<span class="at">columns =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>), <span class="at">fontSize =</span> <span class="st">'80%'</span>) </span>
<span id="cb6-494"><a href="#cb6-494" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-495"><a href="#cb6-495" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-496"><a href="#cb6-496" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-497"><a href="#cb6-497" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-498"><a href="#cb6-498" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-499"><a href="#cb6-499" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-500"><a href="#cb6-500" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-501"><a href="#cb6-501" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->




</body></html>